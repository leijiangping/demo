<!DOCTYPE html>
<html lang="ch">
<head>
<meta charset="utf-8" />
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap-table.min.css"/>
    <link rel="stylesheet" href="../../../css/ncms_page.css"/>
    <script src="../../../bootstrap/js/jquery.min.js"></script>
    <script src="../../../bootstrap/js/ui.loading.js"></script>
    <script src="../../../bootstrap/js/bootstrap.min.js"></script>
	<script src="../../../bootstrap/js/bootstrap-table.min.js"></script>
	<script src="../../../bootstrap/js/bootstrap-table-zh-CN.js"></script>
	<script src="../../../bootstrap/js/jquery.validate.min.js"></script>
	<script src="../../../bootstrap/js/messages_zh.js"></script>
	<script type="text/javascript" src="../../../js/common.js?v=2"></script>
	<script src="../../../js/page/basedata/collection/resource.js" type="text/javascript"></script>	
</head>
<body>
	
	<ul id="ftpTab" class="nav nav-tabs">
			<li><a href="#ftp_info" data-toggle="tab">FTP配置</a></li>
			<li><div class="btn-toolbar" style="margin-top: 3px; float: right">
				<button class="btn btn-success" type="button" id="saveButton" onclick="save()">保存</button>
				<button class="btn btn-primary" type="button" id="startButton" onclick="start()">启动</button>
				<button class="btn btn-danger" type="button" id="stopButton" onclick="stop()">停止</button>
				<button class="btn btn-primary" type="button" id="runButton" onclick="runnow()">立即执行</button>
			</div>
			</li>
		</ul>
		<div id="ftpTabContent" class="tab-content">
			<div class="tab-pane fade" id="ftp_info">
			<form id=taskConfig action="" style="width:99%">
				<ul class="list-group">
					<li class="list-group-item row">
						<div class="col-md-2" style="line-height: 34px;text-align:center;">FTP地址:</div>
						<div class="col-md-4">
						<input type="hidden" id="taskId" name="taskId">
							<input class="form-control" id="ftpUrl" name="ftpUrl" type="text"
								placeholder="请输入FTP地址" style="float: left;"/>
								<span id="err" class="modal-error" style="float: left;"></span>
						</div>
						<div class="col-md-2"  style="line-height: 34px;text-align:center;">端口号:</div>
						<div class="col-md-4">
							<input class="form-control" id="ftpPort" name="ftpPort" type="text"
								placeholder="请输入FTP端口" disabled="disabled" style="float: left;"/>
								<span id="err" class="modal-error" style="float: left;"></span>
						</div>
					</li>
					<li class="list-group-item row">
						<div class="col-md-2" style="line-height: 34px;text-align:center;">文件目录:</div>
						<div class="col-md-4">
							<input class="form-control" id="ftpFilepath" name="ftpFilepath" type="text"
								placeholder="请输入FTP文件目录" disabled="disabled" style="float: left;"/>
								<span id="err" class="modal-error" style="float: left;"></span>
						</div>
						<div class="col-md-2" style="line-height: 34px;text-align:center;">任务路径:</div>
						<div class="col-md-4">
							<input class="form-control" id="collectionUrl" name="collectionUrl" type="text"
								placeholder="请输入采集任务路径" disabled="disabled" style="float: left;"/>
								<span id="err" class="modal-error" style="float: left;"></span>
						</div>
					</li>
					<li class="list-group-item row">
					    <div class="col-md-2" style="line-height: 34px;text-align:center;">FTP账号:</div>
						 <div class="col-md-4">
							<input class="form-control" id="ftpUser" name="ftpUser" type="text"
								placeholder="请输入FTP账户" disabled="disabled" style="float: left;"/>
								<span id="err" class="modal-error" style="float: left;"></span>
						</div>
						<div class="col-md-2" style="line-height: 34px;text-align:center;">账号密码:</div>
						<div class="col-md-4">
							<input class="form-control" id="ftpPassword" name="ftpPassword" type="password"
								disabled="disabled" placeholder="请输入FTP账户密码" style="float: left;"/>
								<span id="err" class="modal-error" style="float: left;"></span>
						</div>
					</li>
					<li class="list-group-item row">
						<div class="col-md-2" style="line-height: 34px;text-align:center;">执行周期:</div>
						<div class="col-md-4">
						 <input type="hidden" id="taskPeriod" name="taskPeriod">
							<select id="taskPeriod1" name="taskPeriod1" class="form-control" disabled="disabled">
								<option value="0" selected = "selected">日</option>
								<option value="1">周</option>
								<option value="2">月</option>
							</select>
						</div>
						<div class="col-md-2" style="line-height: 34px;text-align:center;">执行时间:</div>
						<div class="col-md-4">
						<select id="taskTime" class="form-control"  name="taskTime" disabled="disabled">
								<option value="00:00" selected = "selected">零点</option>
								<option value="01:00">一点</option>
								<option value="02:00">两点</option>
								<option value="03:00">三点</option>
								<option value="04:00">四点</option>
								<option value="05:00">五点</option>
								<option value="06:00">六点</option>
								<option value="07:00">七点</option>
								<option value="08:00">八点</option>
								<option value="09:00">九点</option>
								<option value="10:00">十点</option>
								<option value="11:00">十一点</option>
								<option value="12:00">十二点</option>
								<option value="13:00">十三点</option>
								<option value="14:00">十四点</option>
								<option value="15:00">十五点</option>
								<option value="16:00">十六点</option>
								<option value="17:00">十七点</option>
								<option value="18:00">十八点</option>
								<option value="19:00">十九点</option>
								<option value="20:00">二十点</option>
								<option value="21:00">二十一点</option>
								<option value="22:00">二十二点</option>
								<option value="23:00">二十三点</option>
							</select>
						</div>
					</li>
				</ul>
		      </form>
			</div>
		</div>
		<ul id="ftpFileTab" class="nav nav-tabs">
			<li><a href="#ftpFile_info" data-toggle="tab">FTP文件列表</a></li>
			<li>
			   <div class="btn-toolbar" style="margin-top: 3px; float: right">
					<button class="btn btn-primary" type="button" onclick="add()">新增</button>
					<!-- <button class="btn btn-primary" onclick="modify()">修改</button> -->
					<button class="btn btn-danger" type="button" onclick="del()">删除</button>
				</div>
			</li>
		</ul>
		<div id="ftpFileTabContent" class="tab-content">
			<div class="tab-pane fade" id="ftpFile_info">
				<table id="tb"></table>
			</div>
		</div>

	<!-- 新增、修改弹出页面 -->
	<div class="modal fade" id="EditPanel" tabindex="-1" role="dialog"
		aria-labelledby="EditPanel">
		<div class="modal-dialog" role="document" style="width: 400px;">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" type="button" data-dismiss="modal">×</button>
					<h4 id="myModalLabel">FTP文件类型</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" id="dataForm">
						<div class="form-group">
							<label class="control-label">数据类型：</label>
							<select id="fileDataType1" class="forbidden" name="fileDataType1" onchange="setPerfix(this.value);">
								<!-- <option value="">-请选择-</option> -->
							</select>
						</div>
						<div class="form-group">
							<label class="control-label">文件前缀：</label>
							<input type="text" class="forbidden" id="filePerfix" name="filePerfix" readonly>
						</div>
                        <div class="form-group">
							<label class="control-label">字段配置：</label>
							<input type="text" class="forbidden" id="fieldConfig" name="fieldConfig">
						</div>
						<input type="hidden" id="editTaskId" name="taskId" />
						<input type="hidden" id="fileId" name="fileId" />
						<input type="hidden" id="fileDataType" name="fileDataType" />
					</form>
				</div>
				<div class="modal-footer">
					<a href="#" class="btn" data-dismiss="modal">关闭</a> 
					<button id="saveSet" type="button" class="btn btn-primary" onclick="saveFileConfig();">保存</button>
				</div>
		    </div>
		</div>
	</div>
	
	
	
	
<script>
    $(function () {
        $('#ftpTab a[href="#ftp_info"]').tab('show'); 
        $('#ftpFileTab a[href="#ftpFile_info"]').tab('show'); 
    })
</script>
</body>
</html>