<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xunge.dao.selfelec.EleContractMapper">
  <resultMap id="BaseResultMap" type="com.xunge.model.selfelec.EleContract">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    <id column="elecontract_id" jdbcType="VARCHAR" property="elecontractId" />
    <result column="contract_id" jdbcType="VARCHAR" property="contractId" />
    <result column="supplier_id" jdbcType="VARCHAR" property="supplierId" />
    <result column="paymentperiod_id" jdbcType="VARCHAR" property="paymentperiodId" />
    <result column="price_type" jdbcType="INTEGER" property="priceType" />
    <result column="elecontract_price" jdbcType="VARCHAR" property="elecontractPrice" />
    <result column="include_price_tax" jdbcType="INTEGER" property="includePriceTax" />
    <result column="flat_price" jdbcType="DECIMAL" property="flatPrice" />
    <result column="peak_price" jdbcType="DECIMAL" property="peakPrice" />
    <result column="valley_price" jdbcType="DECIMAL" property="valleyPrice" />
    <result column="top_price" jdbcType="DECIMAL" property="topPrice" />
    <result column="supply_method" jdbcType="INTEGER" property="supplyMethod" />
    <result column="buy_method" jdbcType="INTEGER" property="buyMethod" />
    <result column="payment_method" jdbcType="INTEGER" property="paymentMethod" />
    <result column="include_tax" jdbcType="INTEGER" property="includeTax" />
    <result column="tax_rate" jdbcType="DECIMAL" property="taxRate" />
    <result column="is_include_all" jdbcType="INTEGER" property="isIncludeAll" />
    <result column="pay_sign" jdbcType="INTEGER" property="paySign" />
    <result column="pay_sign_account" jdbcType="DECIMAL" property="paySignAccount" />
    <result column="contract_money" jdbcType="DECIMAL" property="contractMoney" />
    <result column="contract_tax" jdbcType="DECIMAL" property="contractTax" />
    <result column="contract_total_amount" jdbcType="DECIMAL" property="contractTotalAmount" />
    <result column="contract_year_amount" jdbcType="DECIMAL" property="contractYearAmount" />
    <result column="independent_meter" jdbcType="INTEGER" property="independentMeter" />
    <result column="cmcc_ratio" jdbcType="DECIMAL" property="cmccRatio" />
    <result column="unicom_ratio" jdbcType="DECIMAL" property="unicomRatio" />
    <result column="telcom_ratio" jdbcType="DECIMAL" property="telcomRatio" />
    <result column="include_loss" jdbcType="INTEGER" property="includeLoss" />
    <result column="loss_type" jdbcType="INTEGER" property="lossType" />
    <result column="payment_user" jdbcType="VARCHAR" property="paymentUser" />
    <result column="payment_telphone" jdbcType="VARCHAR" property="paymentTelphone" />
    <result column="elecontract_note" jdbcType="VARCHAR" property="elecontractNote" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    elecontract_id, contract_id, supplier_id, paymentperiod_id, price_type, elecontract_price, 
    include_price_tax, flat_price, peak_price, valley_price, top_price, supply_method, 
    buy_method, payment_method, include_tax, tax_rate, is_include_all, pay_sign, pay_sign_account, 
    contract_money, contract_tax, contract_total_amount, contract_year_amount, independent_meter, 
    cmcc_ratio, unicom_ratio, telcom_ratio, include_loss, loss_type, payment_user, payment_telphone, 
    elecontract_note
  </sql>
  <select id="selectByExample" parameterType="com.xunge.model.selfelec.EleContractExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from ele_contract
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
	
	<select id="selectContractNumByCondition" parameterType="map" resultType="java.util.Map">
  	SELECT
		name,
		sum(value) value
	FROM
		(
			SELECT
			<if test="reg_ids != null">
				reg.reg_name name,
			</if>
			<if test="prv_ids != null">
				prv.prv_sname name,
			</if>
				count(rentc.contract_id) value
			FROM
				rent_contract rentc
			LEFT JOIN dat_contract datc ON rentc.contract_id = datc.contract_id
			<if test="reg_ids != null">
				RIGHT JOIN sys_region reg ON reg.reg_id = datc.reg_id
			</if>
			<if test="prv_ids != null">
				RIGHT JOIN sys_province prv ON prv.prv_id = datc.prv_id
			</if>
			<where> 
				datc.auditing_state=0 and datc.contract_state=0	<!-- 审核状态启用，合同状态正常 -->
				<if test="prv_ids != null">
					and prv.prv_id in
					<foreach collection="prv_ids" item="item" index="index"
						open="(" separator="," close=")">
						#{item}
					</foreach>
				</if>
				<if test="reg_ids != null">
					and reg.reg_id in
					<foreach collection="reg_ids" item="item" index="index"
						open="(" separator="," close=")">
						#{item}
					</foreach>
				</if>
			</where>
			GROUP BY
			<if test="reg_ids != null">
				reg.reg_id
			</if>
			<if test="prv_ids != null">
				prv.prv_id
			</if>
			UNION ALL
			SELECT
			<if test="reg_ids != null">
				reg.reg_name name,
			</if>
			<if test="prv_ids != null">
				prv.prv_sname name,
			</if>
				count(elec.contract_id) value
			FROM
				ele_contract elec
			LEFT JOIN dat_contract datc ON elec.contract_id = datc.contract_id
			<if test="reg_ids != null">
				RIGHT JOIN sys_region reg ON reg.reg_id = datc.reg_id
			</if>
			<if test="prv_ids != null">
				RIGHT JOIN sys_province prv ON prv.prv_id = datc.prv_id
			</if>
			<where> 
				datc.auditing_state=0 and datc.contract_state=0<!-- 审核状态启用，合同状态正常 -->
				<if test="prv_ids != null">
					and prv.prv_id in
					<foreach collection="prv_ids" item="item" index="index"
						open="(" separator="," close=")">
						#{item}
					</foreach>
				</if>
				<if test="reg_ids != null">
					and reg.reg_id in
					<foreach collection="reg_ids" item="item" index="index"
						open="(" separator="," close=")">
						#{item}
					</foreach>
				</if>
			</where>
			GROUP BY
			<if test="reg_ids != null">
				reg.reg_id
			</if>
			<if test="prv_ids != null">
				prv.prv_id
			</if>
		) t
	GROUP BY
		t.name
	</select>
	
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from ele_contract
    where elecontract_id = #{elecontractId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    delete from ele_contract
    where elecontract_id = #{elecontractId,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="com.xunge.model.selfelec.EleContractExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    delete from ele_contract
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.xunge.model.selfelec.EleContract">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    insert into ele_contract (elecontract_id, contract_id, supplier_id, 
      paymentperiod_id, price_type, elecontract_price, 
      include_price_tax, flat_price, peak_price, 
      valley_price, top_price, supply_method, 
      buy_method, payment_method, include_tax, 
      tax_rate, is_include_all, pay_sign, 
      pay_sign_account, contract_money, contract_tax, 
      contract_total_amount, contract_year_amount, 
      independent_meter, cmcc_ratio, unicom_ratio, 
      telcom_ratio, include_loss, loss_type, 
      payment_user, payment_telphone, elecontract_note
      )
    values (#{elecontractId,jdbcType=VARCHAR}, #{contractId,jdbcType=VARCHAR}, #{supplierId,jdbcType=VARCHAR}, 
      #{paymentperiodId,jdbcType=VARCHAR}, #{priceType,jdbcType=INTEGER}, #{elecontractPrice,jdbcType=VARCHAR}, 
      #{includePriceTax,jdbcType=INTEGER}, #{flatPrice,jdbcType=DECIMAL}, #{peakPrice,jdbcType=DECIMAL}, 
      #{valleyPrice,jdbcType=DECIMAL}, #{topPrice,jdbcType=DECIMAL}, #{supplyMethod,jdbcType=INTEGER}, 
      #{buyMethod,jdbcType=INTEGER}, #{paymentMethod,jdbcType=INTEGER}, #{includeTax,jdbcType=INTEGER}, 
      #{taxRate,jdbcType=DECIMAL}, #{isIncludeAll,jdbcType=INTEGER}, #{paySign,jdbcType=INTEGER}, 
      #{paySignAccount,jdbcType=DECIMAL}, #{contractMoney,jdbcType=DECIMAL}, #{contractTax,jdbcType=DECIMAL}, 
      #{contractTotalAmount,jdbcType=DECIMAL}, #{contractYearAmount,jdbcType=DECIMAL}, 
      #{independentMeter,jdbcType=INTEGER}, #{cmccRatio,jdbcType=DECIMAL}, #{unicomRatio,jdbcType=DECIMAL}, 
      #{telcomRatio,jdbcType=DECIMAL}, #{includeLoss,jdbcType=INTEGER}, #{lossType,jdbcType=INTEGER}, 
      #{paymentUser,jdbcType=VARCHAR}, #{paymentTelphone,jdbcType=VARCHAR}, #{elecontractNote,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.xunge.model.selfelec.EleContract">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    insert into ele_contract
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="elecontractId != null">
        elecontract_id,
      </if>
      <if test="contractId != null">
        contract_id,
      </if>
      <if test="supplierId != null">
        supplier_id,
      </if>
      <if test="paymentperiodId != null">
        paymentperiod_id,
      </if>
      <if test="priceType != null">
        price_type,
      </if>
      <if test="elecontractPrice != null">
        elecontract_price,
      </if>
      <if test="includePriceTax != null">
        include_price_tax,
      </if>
      <if test="flatPrice != null">
        flat_price,
      </if>
      <if test="peakPrice != null">
        peak_price,
      </if>
      <if test="valleyPrice != null">
        valley_price,
      </if>
      <if test="topPrice != null">
        top_price,
      </if>
      <if test="supplyMethod != null">
        supply_method,
      </if>
      <if test="buyMethod != null">
        buy_method,
      </if>
      <if test="paymentMethod != null">
        payment_method,
      </if>
      <if test="includeTax != null">
        include_tax,
      </if>
      <if test="taxRate != null">
        tax_rate,
      </if>
      <if test="isIncludeAll != null">
        is_include_all,
      </if>
      <if test="paySign != null">
        pay_sign,
      </if>
      <if test="paySignAccount != null">
        pay_sign_account,
      </if>
      <if test="contractMoney != null">
        contract_money,
      </if>
      <if test="contractTax != null">
        contract_tax,
      </if>
      <if test="contractTotalAmount != null">
        contract_total_amount,
      </if>
      <if test="contractYearAmount != null">
        contract_year_amount,
      </if>
      <if test="independentMeter != null">
        independent_meter,
      </if>
      <if test="cmccRatio != null">
        cmcc_ratio,
      </if>
      <if test="unicomRatio != null">
        unicom_ratio,
      </if>
      <if test="telcomRatio != null">
        telcom_ratio,
      </if>
      <if test="includeLoss != null">
        include_loss,
      </if>
      <if test="lossType != null">
        loss_type,
      </if>
      <if test="paymentUser != null">
        payment_user,
      </if>
      <if test="paymentTelphone != null">
        payment_telphone,
      </if>
      <if test="elecontractNote != null">
        elecontract_note,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="elecontractId != null">
        #{elecontractId,jdbcType=VARCHAR},
      </if>
      <if test="contractId != null">
        #{contractId,jdbcType=VARCHAR},
      </if>
      <if test="supplierId != null">
        #{supplierId,jdbcType=VARCHAR},
      </if>
      <if test="paymentperiodId != null">
        #{paymentperiodId,jdbcType=VARCHAR},
      </if>
      <if test="priceType != null">
        #{priceType,jdbcType=INTEGER},
      </if>
      <if test="elecontractPrice != null">
        #{elecontractPrice,jdbcType=VARCHAR},
      </if>
      <if test="includePriceTax != null">
        #{includePriceTax,jdbcType=INTEGER},
      </if>
      <if test="flatPrice != null">
        #{flatPrice,jdbcType=DECIMAL},
      </if>
      <if test="peakPrice != null">
        #{peakPrice,jdbcType=DECIMAL},
      </if>
      <if test="valleyPrice != null">
        #{valleyPrice,jdbcType=DECIMAL},
      </if>
      <if test="topPrice != null">
        #{topPrice,jdbcType=DECIMAL},
      </if>
      <if test="supplyMethod != null">
        #{supplyMethod,jdbcType=INTEGER},
      </if>
      <if test="buyMethod != null">
        #{buyMethod,jdbcType=INTEGER},
      </if>
      <if test="paymentMethod != null">
        #{paymentMethod,jdbcType=INTEGER},
      </if>
      <if test="includeTax != null">
        #{includeTax,jdbcType=INTEGER},
      </if>
      <if test="taxRate != null">
        #{taxRate,jdbcType=DECIMAL},
      </if>
      <if test="isIncludeAll != null">
        #{isIncludeAll,jdbcType=INTEGER},
      </if>
      <if test="paySign != null">
        #{paySign,jdbcType=INTEGER},
      </if>
      <if test="paySignAccount != null">
        #{paySignAccount,jdbcType=DECIMAL},
      </if>
      <if test="contractMoney != null">
        #{contractMoney,jdbcType=DECIMAL},
      </if>
      <if test="contractTax != null">
        #{contractTax,jdbcType=DECIMAL},
      </if>
      <if test="contractTotalAmount != null">
        #{contractTotalAmount,jdbcType=DECIMAL},
      </if>
      <if test="contractYearAmount != null">
        #{contractYearAmount,jdbcType=DECIMAL},
      </if>
      <if test="independentMeter != null">
        #{independentMeter,jdbcType=INTEGER},
      </if>
      <if test="cmccRatio != null">
        #{cmccRatio,jdbcType=DECIMAL},
      </if>
      <if test="unicomRatio != null">
        #{unicomRatio,jdbcType=DECIMAL},
      </if>
      <if test="telcomRatio != null">
        #{telcomRatio,jdbcType=DECIMAL},
      </if>
      <if test="includeLoss != null">
        #{includeLoss,jdbcType=INTEGER},
      </if>
      <if test="lossType != null">
        #{lossType,jdbcType=INTEGER},
      </if>
      <if test="paymentUser != null">
        #{paymentUser,jdbcType=VARCHAR},
      </if>
      <if test="paymentTelphone != null">
        #{paymentTelphone,jdbcType=VARCHAR},
      </if>
      <if test="elecontractNote != null">
        #{elecontractNote,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="selectNolinkCont" parameterType="map" resultType="java.lang.Integer">
    SELECT	
		count(DISTINCT dc.contract_id)
	FROM
		dat_contract dc
	LEFT JOIN ele_contract ec ON ec.contract_id = dc.contract_id
	LEFT JOIN ele_contractbillaccount ecb ON ec.elecontract_id = ecb.elecontract_id
	LEFT JOIN rent_contract rc ON rc.contract_id = dc.contract_id
	LEFT JOIN rent_billaccountcontract rbc ON rc.rentcontract_id = rbc.rentcontract_id
	where 
		ecb.billaccount_id is null and rbc.billaccount_id is null
    	<if test="prv_id != '' and prv_id != null">
        	and dc.prv_id = #{prv_id,jdbcType=VARCHAR}
    	</if>
  </select>
  <select id="selectAllContract" parameterType="map" resultType="java.lang.Integer">
    select count(DISTINCT dc.contract_id) from dat_contract dc
    <where>
    	<if test="prv_id != null">
        	dc.prv_id = #{prv_id,jdbcType=VARCHAR}
    	</if>
    </where>
  </select>
  <select id="countByExample" parameterType="com.xunge.model.selfelec.EleContractExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    select count(*) from ele_contract
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    update ele_contract
    <set>
      <if test="record.elecontractId != null">
        elecontract_id = #{record.elecontractId,jdbcType=VARCHAR},
      </if>
      <if test="record.contractId != null">
        contract_id = #{record.contractId,jdbcType=VARCHAR},
      </if>
      <if test="record.supplierId != null">
        supplier_id = #{record.supplierId,jdbcType=VARCHAR},
      </if>
      <if test="record.paymentperiodId != null">
        paymentperiod_id = #{record.paymentperiodId,jdbcType=VARCHAR},
      </if>
      <if test="record.priceType != null">
        price_type = #{record.priceType,jdbcType=INTEGER},
      </if>
      <if test="record.elecontractPrice != null">
        elecontract_price = #{record.elecontractPrice,jdbcType=VARCHAR},
      </if>
      <if test="record.includePriceTax != null">
        include_price_tax = #{record.includePriceTax,jdbcType=INTEGER},
      </if>
      <if test="record.flatPrice != null">
        flat_price = #{record.flatPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.peakPrice != null">
        peak_price = #{record.peakPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.valleyPrice != null">
        valley_price = #{record.valleyPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.topPrice != null">
        top_price = #{record.topPrice,jdbcType=DECIMAL},
      </if>
      <if test="record.supplyMethod != null">
        supply_method = #{record.supplyMethod,jdbcType=INTEGER},
      </if>
      <if test="record.buyMethod != null">
        buy_method = #{record.buyMethod,jdbcType=INTEGER},
      </if>
      <if test="record.paymentMethod != null">
        payment_method = #{record.paymentMethod,jdbcType=INTEGER},
      </if>
      <if test="record.includeTax != null">
        include_tax = #{record.includeTax,jdbcType=INTEGER},
      </if>
      <if test="record.taxRate != null">
        tax_rate = #{record.taxRate,jdbcType=DECIMAL},
      </if>
      <if test="record.isIncludeAll != null">
        is_include_all = #{record.isIncludeAll,jdbcType=INTEGER},
      </if>
      <if test="record.paySign != null">
        pay_sign = #{record.paySign,jdbcType=INTEGER},
      </if>
      <if test="record.paySignAccount != null">
        pay_sign_account = #{record.paySignAccount,jdbcType=DECIMAL},
      </if>
      <if test="record.contractMoney != null">
        contract_money = #{record.contractMoney,jdbcType=DECIMAL},
      </if>
      <if test="record.contractTax != null">
        contract_tax = #{record.contractTax,jdbcType=DECIMAL},
      </if>
      <if test="record.contractTotalAmount != null">
        contract_total_amount = #{record.contractTotalAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.contractYearAmount != null">
        contract_year_amount = #{record.contractYearAmount,jdbcType=DECIMAL},
      </if>
      <if test="record.independentMeter != null">
        independent_meter = #{record.independentMeter,jdbcType=INTEGER},
      </if>
      <if test="record.cmccRatio != null">
        cmcc_ratio = #{record.cmccRatio,jdbcType=DECIMAL},
      </if>
      <if test="record.unicomRatio != null">
        unicom_ratio = #{record.unicomRatio,jdbcType=DECIMAL},
      </if>
      <if test="record.telcomRatio != null">
        telcom_ratio = #{record.telcomRatio,jdbcType=DECIMAL},
      </if>
      <if test="record.includeLoss != null">
        include_loss = #{record.includeLoss,jdbcType=INTEGER},
      </if>
      <if test="record.lossType != null">
        loss_type = #{record.lossType,jdbcType=INTEGER},
      </if>
      <if test="record.paymentUser != null">
        payment_user = #{record.paymentUser,jdbcType=VARCHAR},
      </if>
      <if test="record.paymentTelphone != null">
        payment_telphone = #{record.paymentTelphone,jdbcType=VARCHAR},
      </if>
      <if test="record.elecontractNote != null">
        elecontract_note = #{record.elecontractNote,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    update ele_contract
    set elecontract_id = #{record.elecontractId,jdbcType=VARCHAR},
      contract_id = #{record.contractId,jdbcType=VARCHAR},
      supplier_id = #{record.supplierId,jdbcType=VARCHAR},
      paymentperiod_id = #{record.paymentperiodId,jdbcType=VARCHAR},
      price_type = #{record.priceType,jdbcType=INTEGER},
      elecontract_price = #{record.elecontractPrice,jdbcType=VARCHAR},
      include_price_tax = #{record.includePriceTax,jdbcType=INTEGER},
      flat_price = #{record.flatPrice,jdbcType=DECIMAL},
      peak_price = #{record.peakPrice,jdbcType=DECIMAL},
      valley_price = #{record.valleyPrice,jdbcType=DECIMAL},
      top_price = #{record.topPrice,jdbcType=DECIMAL},
      supply_method = #{record.supplyMethod,jdbcType=INTEGER},
      buy_method = #{record.buyMethod,jdbcType=INTEGER},
      payment_method = #{record.paymentMethod,jdbcType=INTEGER},
      include_tax = #{record.includeTax,jdbcType=INTEGER},
      tax_rate = #{record.taxRate,jdbcType=DECIMAL},
      is_include_all = #{record.isIncludeAll,jdbcType=INTEGER},
      pay_sign = #{record.paySign,jdbcType=INTEGER},
      pay_sign_account = #{record.paySignAccount,jdbcType=DECIMAL},
      contract_money = #{record.contractMoney,jdbcType=DECIMAL},
      contract_tax = #{record.contractTax,jdbcType=DECIMAL},
      contract_total_amount = #{record.contractTotalAmount,jdbcType=DECIMAL},
      contract_year_amount = #{record.contractYearAmount,jdbcType=DECIMAL},
      independent_meter = #{record.independentMeter,jdbcType=INTEGER},
      cmcc_ratio = #{record.cmccRatio,jdbcType=DECIMAL},
      unicom_ratio = #{record.unicomRatio,jdbcType=DECIMAL},
      telcom_ratio = #{record.telcomRatio,jdbcType=DECIMAL},
      include_loss = #{record.includeLoss,jdbcType=INTEGER},
      loss_type = #{record.lossType,jdbcType=INTEGER},
      payment_user = #{record.paymentUser,jdbcType=VARCHAR},
      payment_telphone = #{record.paymentTelphone,jdbcType=VARCHAR},
      elecontract_note = #{record.elecontractNote,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.xunge.model.selfelec.EleContract">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    update ele_contract
    <set>
      <if test="contractId != null">
        contract_id = #{contractId,jdbcType=VARCHAR},
      </if>
      <if test="supplierId != null">
        supplier_id = #{supplierId,jdbcType=VARCHAR},
      </if>
      <if test="paymentperiodId != null">
        paymentperiod_id = #{paymentperiodId,jdbcType=VARCHAR},
      </if>
      <if test="priceType != null">
        price_type = #{priceType,jdbcType=INTEGER},
      </if>
      <if test="elecontractPrice != null">
        elecontract_price = #{elecontractPrice,jdbcType=VARCHAR},
      </if>
      <if test="includePriceTax != null">
        include_price_tax = #{includePriceTax,jdbcType=INTEGER},
      </if>
      <if test="flatPrice != null">
        flat_price = #{flatPrice,jdbcType=DECIMAL},
      </if>
      <if test="peakPrice != null">
        peak_price = #{peakPrice,jdbcType=DECIMAL},
      </if>
      <if test="valleyPrice != null">
        valley_price = #{valleyPrice,jdbcType=DECIMAL},
      </if>
      <if test="topPrice != null">
        top_price = #{topPrice,jdbcType=DECIMAL},
      </if>
      <if test="supplyMethod != null">
        supply_method = #{supplyMethod,jdbcType=INTEGER},
      </if>
      <if test="buyMethod != null">
        buy_method = #{buyMethod,jdbcType=INTEGER},
      </if>
      <if test="paymentMethod != null">
        payment_method = #{paymentMethod,jdbcType=INTEGER},
      </if>
      <if test="includeTax != null">
        include_tax = #{includeTax,jdbcType=INTEGER},
      </if>
      <if test="taxRate != null">
        tax_rate = #{taxRate,jdbcType=DECIMAL},
      </if>
      <if test="isIncludeAll != null">
        is_include_all = #{isIncludeAll,jdbcType=INTEGER},
      </if>
      <if test="paySign != null">
        pay_sign = #{paySign,jdbcType=INTEGER},
      </if>
      <if test="paySignAccount != null">
        pay_sign_account = #{paySignAccount,jdbcType=DECIMAL},
      </if>
      <if test="contractMoney != null">
        contract_money = #{contractMoney,jdbcType=DECIMAL},
      </if>
      <if test="contractTax != null">
        contract_tax = #{contractTax,jdbcType=DECIMAL},
      </if>
      <if test="contractTotalAmount != null">
        contract_total_amount = #{contractTotalAmount,jdbcType=DECIMAL},
      </if>
      <if test="contractYearAmount != null">
        contract_year_amount = #{contractYearAmount,jdbcType=DECIMAL},
      </if>
      <if test="independentMeter != null">
        independent_meter = #{independentMeter,jdbcType=INTEGER},
      </if>
      <if test="cmccRatio != null">
        cmcc_ratio = #{cmccRatio,jdbcType=DECIMAL},
      </if>
      <if test="unicomRatio != null">
        unicom_ratio = #{unicomRatio,jdbcType=DECIMAL},
      </if>
      <if test="telcomRatio != null">
        telcom_ratio = #{telcomRatio,jdbcType=DECIMAL},
      </if>
      <if test="includeLoss != null">
        include_loss = #{includeLoss,jdbcType=INTEGER},
      </if>
      <if test="lossType != null">
        loss_type = #{lossType,jdbcType=INTEGER},
      </if>
      <if test="paymentUser != null">
        payment_user = #{paymentUser,jdbcType=VARCHAR},
      </if>
      <if test="paymentTelphone != null">
        payment_telphone = #{paymentTelphone,jdbcType=VARCHAR},
      </if>
      <if test="elecontractNote != null">
        elecontract_note = #{elecontractNote,jdbcType=VARCHAR},
      </if>
    </set>
    where elecontract_id = #{elecontractId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.xunge.model.selfelec.EleContract">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 17 13:43:30 CST 2017.
    -->
    update ele_contract
    set contract_id = #{contractId,jdbcType=VARCHAR},
      supplier_id = #{supplierId,jdbcType=VARCHAR},
      paymentperiod_id = #{paymentperiodId,jdbcType=VARCHAR},
      price_type = #{priceType,jdbcType=INTEGER},
      elecontract_price = #{elecontractPrice,jdbcType=VARCHAR},
      include_price_tax = #{includePriceTax,jdbcType=INTEGER},
      flat_price = #{flatPrice,jdbcType=DECIMAL},
      peak_price = #{peakPrice,jdbcType=DECIMAL},
      valley_price = #{valleyPrice,jdbcType=DECIMAL},
      top_price = #{topPrice,jdbcType=DECIMAL},
      supply_method = #{supplyMethod,jdbcType=INTEGER},
      buy_method = #{buyMethod,jdbcType=INTEGER},
      payment_method = #{paymentMethod,jdbcType=INTEGER},
      include_tax = #{includeTax,jdbcType=INTEGER},
      tax_rate = #{taxRate,jdbcType=DECIMAL},
      is_include_all = #{isIncludeAll,jdbcType=INTEGER},
      pay_sign = #{paySign,jdbcType=INTEGER},
      pay_sign_account = #{paySignAccount,jdbcType=DECIMAL},
      contract_money = #{contractMoney,jdbcType=DECIMAL},
      contract_tax = #{contractTax,jdbcType=DECIMAL},
      contract_total_amount = #{contractTotalAmount,jdbcType=DECIMAL},
      contract_year_amount = #{contractYearAmount,jdbcType=DECIMAL},
      independent_meter = #{independentMeter,jdbcType=INTEGER},
      cmcc_ratio = #{cmccRatio,jdbcType=DECIMAL},
      unicom_ratio = #{unicomRatio,jdbcType=DECIMAL},
      telcom_ratio = #{telcomRatio,jdbcType=DECIMAL},
      include_loss = #{includeLoss,jdbcType=INTEGER},
      loss_type = #{lossType,jdbcType=INTEGER},
      payment_user = #{paymentUser,jdbcType=VARCHAR},
      payment_telphone = #{paymentTelphone,jdbcType=VARCHAR},
      elecontract_note = #{elecontractNote,jdbcType=VARCHAR}
    where elecontract_id = #{elecontractId,jdbcType=VARCHAR}
  </update>
</mapper>