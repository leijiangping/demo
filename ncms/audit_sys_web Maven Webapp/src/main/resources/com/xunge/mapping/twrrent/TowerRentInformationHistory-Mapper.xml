<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xunge.dao.TowerRentInformationHistoryVOMapper" >
  <resultMap id="BaseResultMap" type="com.xunge.model.towerrent.rentmanager.TowerRentInformationHistoryVO" >
  <id column="rentinformationhistory_id" property="rentinformationhistoryId" jdbcType="VARCHAR" />
    <result column="rentinformation_id" property="rentinformationId" jdbcType="VARCHAR" />
    <result column="reg_id" property="regId" jdbcType="VARCHAR" />
    <result column="resources_type_id" property="resourcesTypeId" jdbcType="VARCHAR" />
    <result column="business_confirm_number" property="businessConfirmNumber" jdbcType="VARCHAR" />
    <result column="scence_type" property="scenceType" jdbcType="VARCHAR" />
    <result column="agree_bill_code" property="agreeBillCode" jdbcType="VARCHAR" />
    <result column="tower_station_code" property="towerStationCode" jdbcType="VARCHAR" />
    <result column="tower_station_name" property="towerStationName" jdbcType="VARCHAR" />
    <result column="operator" property="operator" jdbcType="VARCHAR" />
    <result column="operator_reg_id" property="operatorRegId" jdbcType="VARCHAR" />
    <result column="demand_reg_id" property="demandRegId" jdbcType="VARCHAR" />
    <result column="station_reg_id" property="stationRegId" jdbcType="VARCHAR" />
    <result column="if_tower_link_operator" property="ifTowerLinkOperator" jdbcType="BIT" />
    <result column="detail_address" property="detailAddress" jdbcType="VARCHAR" />
    <result column="longitude" property="longitude" jdbcType="DECIMAL" />
    <result column="latitude" property="latitude" jdbcType="DECIMAL" />
    <result column="product_configuration_id" property="productConfigurationId" jdbcType="VARCHAR" />
    <result column="product_type_id" property="productTypeId" jdbcType="VARCHAR" />
    <result column="room_type_id" property="roomTypeId" jdbcType="VARCHAR" />
    <result column="supporting_type_id" property="supportingTypeId" jdbcType="VARCHAR" />
    <result column="wind_pressure" property="windPressure" jdbcType="DECIMAL" />
    <result column="share_type_id" property="shareTypeId" jdbcType="VARCHAR" />
    <result column="product1_unit_num" property="product1UnitNum" jdbcType="VARCHAR" />
    <result column="product1_height" property="product1Height" jdbcType="VARCHAR" />
    <result column="product1_antenna_num" property="product1AntennaNum" jdbcType="VARCHAR" />
    <result column="product1_system_num" property="product1SystemNum" jdbcType="VARCHAR" />
    <result column="product1_is_up_towerRRU" property="product1IsUpTowerrru" jdbcType="BIT" />
    <result column="product1_ifBBU_on_room" property="product1IfbbuOnRoom" jdbcType="BIT" />
    <result column="product1_BBU_fee" property="product1BbuFee" jdbcType="VARCHAR" />
    <result column="product2_unit_num" property="product2UnitNum" jdbcType="VARCHAR" />
    <result column="product2_height" property="product2Height" jdbcType="VARCHAR" />
    <result column="product2_antenna_num" property="product2AntennaNum" jdbcType="VARCHAR" />
    <result column="product2_system_num" property="product2SystemNum" jdbcType="VARCHAR" />
    <result column="product2_is_up_towerRRU" property="product2IsUpTowerrru" jdbcType="VARCHAR" />
    <result column="product2_ifBBU_on_room" property="product2IfbbuOnRoom" jdbcType="BIT" />
    <result column="product2_BBU_fee" property="product2BbuFee" jdbcType="BIT" />
    <result column="product3_unit_num" property="product3UnitNum" jdbcType="VARCHAR" />
    <result column="product3_height" property="product3Height" jdbcType="VARCHAR" />
    <result column="product3_antenna_num" property="product3AntennaNum" jdbcType="VARCHAR" />
    <result column="product3_system_num" property="product3SystemNum" jdbcType="VARCHAR" />
    <result column="product3_is_up_towerRRU" property="product3IsUpTowerrru" jdbcType="BIT" />
    <result column="product3_ifBBU_on_room" property="product3IfbbuOnRoom" jdbcType="BIT" />
    <result column="product3_BBU_fee" property="product3BbuFee" jdbcType="VARCHAR" />
    <result column="antenna_height_range_id" property="antennaHeightRangeId" jdbcType="VARCHAR" />
    <result column="tower_height" property="towerHeight" jdbcType="VARCHAR" />
    <result column="ifstandard_build_fee" property="ifstandardBuildFee" jdbcType="BIT" />
    <result column="ifRRU_dis" property="ifrruDis" jdbcType="BIT" />
    <result column="current_tower_share_num" property="currentTowerShareNum" jdbcType="INTEGER" />
    <result column="current_room_supporting_share_num" property="currentRoomSupportingShareNum" jdbcType="INTEGER" />
    <result column="current_service_share_num" property="currentServiceShareNum" jdbcType="INTEGER" />
    <result column="current_room_fee_share_num" property="currentRoomFeeShareNum" jdbcType="INTEGER" />
    <result column="current_elecimport_share_num" property="currentElecimportShareNum" jdbcType="INTEGER" />
    <result column="add_tower_share_num" property="addTowerShareNum" jdbcType="INTEGER" />
    <result column="add_room_supporting_share_num" property="addRoomSupportingShareNum" jdbcType="INTEGER" />
    <result column="is_spec_enter_station" property="isSpecEnterStation" jdbcType="BIT" />
    <result column="start_date" property="startDate" jdbcType="TIMESTAMP" />
    <result column="end_date" property="endDate" jdbcType="TIMESTAMP" />
    <result column="unit_product_number" property="unitProductNumber" jdbcType="VARCHAR" />
    <result column="tower_price" property="towerPrice" jdbcType="DECIMAL" />
    <result column="room_price" property="roomPrice" jdbcType="DECIMAL" />
    <result column="supporting_price" property="supportingPrice" jdbcType="DECIMAL" />
    <result column="tower_share_dis" property="towerShareDis" jdbcType="DECIMAL" />
    <result column="room_supporting_share_dis" property="roomSupportingShareDis" jdbcType="DECIMAL" />
    <result column="compute_room_supporting_price" property="computeRoomSupportingPrice" jdbcType="DECIMAL" />
    <result column="maintenance_fee" property="maintenanceFee" jdbcType="DECIMAL" />
    <result column="maintenance_fee_dis" property="maintenanceFeeDis" jdbcType="DECIMAL" />
    <result column="original_maintenance_fee" property="originalMaintenanceFee" jdbcType="DECIMAL" />
    <result column="compute_maintenance_fee" property="computeMaintenanceFee" jdbcType="DECIMAL" />
    <result column="stage_fee" property="stageFee" jdbcType="DECIMAL" />
    <result column="stage_fee_dis" property="stageFeeDis" jdbcType="DECIMAL" />
    <result column="original_stage_fee" property="originalStageFee" jdbcType="DECIMAL" />
    <result column="electric_import_fee" property="electricImportFee" jdbcType="DECIMAL" />
    <result column="electric_import_fee_dis" property="electricImportFeeDis" jdbcType="DECIMAL" />
    <result column="original_electric_import_fee" property="originalElectricImportFee" jdbcType="DECIMAL" />
    <result column="compute_electric_import_fee" property="computeElectricImportFee" jdbcType="DECIMAL" />
    <result column="if_has_power_condition" property="ifHasPowerCondition" jdbcType="BIT" />
    <result column="if_select_power_service" property="ifSelectPowerService" jdbcType="BIT" />
    <result column="oil_generate_electric_method_id" property="oilGenerateElectricMethodId" jdbcType="VARCHAR" />
    <result column="oil_generator_electric_fee" property="oilGeneratorElectricFee" jdbcType="DECIMAL" />
    <result column="original_oil_generate_electric_fee" property="originalOilGenerateElectricFee" jdbcType="DECIMAL" />
    <result column="compute_oil_generate_electric_fee" property="computeOilGenerateElectricFee" jdbcType="DECIMAL" />
    <result column="other_fee" property="otherFee" jdbcType="DECIMAL" />
    <result column="other_fee_remark" property="otherFeeRemark" jdbcType="VARCHAR" />
    <result column="original_other_fee" property="originalOtherFee" jdbcType="DECIMAL" />
    <result column="compute_other_fee" property="computeOtherFee" jdbcType="DECIMAL" />
    <result column="maintenance_level_id" property="maintenanceLevelId" jdbcType="VARCHAR" />
    <result column="hight_level_fee" property="hightLevelFee" jdbcType="DECIMAL" />
    <result column="electric_protection_method_id" property="electricProtectionMethodId" jdbcType="VARCHAR" />
    <result column="electric_protection_fee" property="electricProtectionFee" jdbcType="DECIMAL" />
    <result column="reserve_battery" property="reserveBattery" jdbcType="DECIMAL" />
    <result column="room_fee_method" property="roomFeeMethod" jdbcType="VARCHAR" />
    <result column="elec_import_fee_method" property="elecImportFeeMethod" jdbcType="VARCHAR" />
    <result column="microwave_service_fee" property="microwaveServiceFee" jdbcType="VARCHAR" />
    <result column="wlan_service_fee" property="wlanServiceFee" jdbcType="VARCHAR" />
    <result column="battery_protection_fee" property="batteryProtectionFee" jdbcType="DECIMAL" />
    <result column="total_amount" property="totalAmount" jdbcType="DECIMAL" />
    <result column="total_actual_amount" property="totalActualAmount" jdbcType="DECIMAL" />
    <result column="compute_total_amount" property="computeTotalAmount" jdbcType="DECIMAL" />
    <result column="compute_total_actual_amount" property="computeTotalActualAmount" jdbcType="DECIMAL" />
    <result column="compute_room_price" property="computeRoomPrice" jdbcType="DECIMAL" />
    <result column="compute_supporting_price" property="computeSupportingPrice" jdbcType="DECIMAL" />
    <result column="compute_tower_price1" property="computeTowerPrice1" jdbcType="DECIMAL" />
    <result column="compute_tower_price2" property="computeTowerPrice2" jdbcType="DECIMAL" />
    <result column="compute_tower_price3" property="computeTowerPrice3" jdbcType="DECIMAL" />
    <result column="publish_user" property="publishUser" jdbcType="VARCHAR" />
    <result column="publish_time" property="publishTime" jdbcType="TIMESTAMP" />
    <result column="create_user_id" property="createUserId" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="update_user_id" property="updateUserId" jdbcType="VARCHAR" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
    <result column="check_state" property="checkState" jdbcType="INTEGER" />
  </resultMap>
 <sql id="Base_Column_List" >
    rentinformationhistory_id, rentinformation_id, reg_id, resources_type_id, business_confirm_number, 
    scence_type, agree_bill_code, tower_station_code, tower_station_name, operator, operator_reg_id, 
    demand_reg_id, station_reg_id, if_tower_link_operator, detail_address, longitude, 
    latitude, product_configuration_id, product_type_id, room_type_id, supporting_type_id, 
    wind_pressure, share_type_id, product1_unit_num, product1_height, product1_antenna_num, 
    product1_system_num, product1_is_up_towerRRU, product1_ifBBU_on_room, product1_BBU_fee, 
    product2_unit_num, product2_height, product2_antenna_num, product2_system_num, product2_is_up_towerRRU, 
    product2_ifBBU_on_room, product2_BBU_fee, product3_unit_num, product3_height, product3_antenna_num, 
    product3_system_num, product3_is_up_towerRRU, product3_ifBBU_on_room, product3_BBU_fee, 
    antenna_height_range_id, tower_height, ifstandard_build_fee, ifRRU_dis, current_tower_share_num, 
    current_room_supporting_share_num, current_service_share_num, current_room_fee_share_num, 
    current_elecimport_share_num, add_tower_share_num, add_room_supporting_share_num, 
    is_spec_enter_station, start_date, end_date, unit_product_number, tower_price, room_price, 
    supporting_price, tower_share_dis, room_supporting_share_dis, compute_room_supporting_price, 
    maintenance_fee, maintenance_fee_dis, original_maintenance_fee, compute_maintenance_fee, 
    stage_fee, stage_fee_dis, original_stage_fee, electric_import_fee, electric_import_fee_dis, 
    original_electric_import_fee, compute_electric_import_fee, if_has_power_condition, 
    if_select_power_service, oil_generate_electric_method_id, oil_generator_electric_fee, 
    original_oil_generate_electric_fee, compute_oil_generate_electric_fee, other_fee, 
    other_fee_remark, original_other_fee, compute_other_fee, maintenance_level_id, hight_level_fee, 
    electric_protection_method_id, electric_protection_fee, reserve_battery, room_fee_method, 
    elec_import_fee_method, microwave_service_fee, wlan_service_fee, battery_protection_fee, 
    total_amount, total_actual_amount, compute_total_amount, compute_total_actual_amount, 
    compute_room_price, compute_supporting_price, compute_tower_price1, compute_tower_price2, 
    compute_tower_price3, publish_user, publish_time, create_user_id, create_time, update_user_id, 
    update_time, check_state
  </sql>
  
  	
  
   <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from twr_rentinformationhistory
    where rentinformationhistory_id = #{rentinformationhistoryId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from twr_rentinformationhistory
    where rentinformationhistory_id = #{rentinformationhistoryId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.xunge.model.towerrent.rentmanager.TowerRentInformationHistoryVO" >
    insert into twr_rentinformationhistory (rentinformationhistory_id, rentinformation_id, 
      reg_id, resources_type_id, business_confirm_number, 
      scence_type, agree_bill_code, tower_station_code, 
      tower_station_name, operator, operator_reg_id, 
      demand_reg_id, station_reg_id, if_tower_link_operator, 
      detail_address, longitude, latitude, 
      product_configuration_id, product_type_id, 
      room_type_id, supporting_type_id, wind_pressure, 
      share_type_id, product1_unit_num, product1_height, 
      product1_antenna_num, product1_system_num, 
      product1_is_up_towerRRU, product1_ifBBU_on_room, product1_BBU_fee, 
      product2_unit_num, product2_height, product2_antenna_num, 
      product2_system_num, product2_is_up_towerRRU, 
      product2_ifBBU_on_room, product2_BBU_fee, product3_unit_num, 
      product3_height, product3_antenna_num, product3_system_num, 
      product3_is_up_towerRRU, product3_ifBBU_on_room, product3_BBU_fee, 
      antenna_height_range_id, tower_height, ifstandard_build_fee, 
      ifRRU_dis, current_tower_share_num, current_room_supporting_share_num, 
      current_service_share_num, current_room_fee_share_num, 
      current_elecimport_share_num, add_tower_share_num, 
      add_room_supporting_share_num, is_spec_enter_station, 
      start_date, end_date, unit_product_number, 
      tower_price, room_price, supporting_price, 
      tower_share_dis, room_supporting_share_dis, 
      compute_room_supporting_price, maintenance_fee, 
      maintenance_fee_dis, original_maintenance_fee, 
      compute_maintenance_fee, stage_fee, stage_fee_dis, 
      original_stage_fee, electric_import_fee, electric_import_fee_dis, 
      original_electric_import_fee, compute_electric_import_fee, 
      if_has_power_condition, if_select_power_service, oil_generate_electric_method_id, 
      oil_generator_electric_fee, original_oil_generate_electric_fee, 
      compute_oil_generate_electric_fee, other_fee, 
      other_fee_remark, original_other_fee, compute_other_fee, 
      maintenance_level_id, hight_level_fee, electric_protection_method_id, 
      electric_protection_fee, reserve_battery, 
      room_fee_method, elec_import_fee_method, microwave_service_fee, 
      wlan_service_fee, battery_protection_fee, total_amount, 
      total_actual_amount, compute_total_amount, 
      compute_total_actual_amount, compute_room_price, 
      compute_supporting_price, compute_tower_price1, 
      compute_tower_price2, compute_tower_price3, 
      publish_user, publish_time, create_user_id, 
      create_time, update_user_id, update_time, 
      check_state)
    values (#{rentinformationhistoryId,jdbcType=VARCHAR}, #{rentinformationId,jdbcType=VARCHAR}, 
      #{regId,jdbcType=VARCHAR}, #{resourcesTypeId,jdbcType=VARCHAR}, #{businessConfirmNumber,jdbcType=VARCHAR}, 
      #{scenceType,jdbcType=VARCHAR}, #{agreeBillCode,jdbcType=VARCHAR}, #{towerStationCode,jdbcType=VARCHAR}, 
      #{towerStationName,jdbcType=VARCHAR}, #{operator,jdbcType=VARCHAR}, #{operatorRegId,jdbcType=VARCHAR}, 
      #{demandRegId,jdbcType=VARCHAR}, #{stationRegId,jdbcType=VARCHAR}, #{ifTowerLinkOperator,jdbcType=BIT}, 
      #{detailAddress,jdbcType=VARCHAR}, #{longitude,jdbcType=DECIMAL}, #{latitude,jdbcType=DECIMAL}, 
      #{productConfigurationId,jdbcType=VARCHAR}, #{productTypeId,jdbcType=VARCHAR}, 
      #{roomTypeId,jdbcType=VARCHAR}, #{supportingTypeId,jdbcType=VARCHAR}, #{windPressure,jdbcType=DECIMAL}, 
      #{shareTypeId,jdbcType=VARCHAR}, #{product1UnitNum,jdbcType=VARCHAR}, #{product1Height,jdbcType=VARCHAR}, 
      #{product1AntennaNum,jdbcType=VARCHAR}, #{product1SystemNum,jdbcType=VARCHAR}, 
      #{product1IsUpTowerrru,jdbcType=BIT}, #{product1IfbbuOnRoom,jdbcType=BIT}, #{product1BbuFee,jdbcType=VARCHAR}, 
      #{product2UnitNum,jdbcType=VARCHAR}, #{product2Height,jdbcType=VARCHAR}, #{product2AntennaNum,jdbcType=VARCHAR}, 
      #{product2SystemNum,jdbcType=VARCHAR}, #{product2IsUpTowerrru,jdbcType=VARCHAR}, 
      #{product2IfbbuOnRoom,jdbcType=BIT}, #{product2BbuFee,jdbcType=BIT}, #{product3UnitNum,jdbcType=VARCHAR}, 
      #{product3Height,jdbcType=VARCHAR}, #{product3AntennaNum,jdbcType=VARCHAR}, #{product3SystemNum,jdbcType=VARCHAR}, 
      #{product3IsUpTowerrru,jdbcType=BIT}, #{product3IfbbuOnRoom,jdbcType=BIT}, #{product3BbuFee,jdbcType=VARCHAR}, 
      #{antennaHeightRangeId,jdbcType=VARCHAR}, #{towerHeight,jdbcType=VARCHAR}, #{ifstandardBuildFee,jdbcType=BIT}, 
      #{ifrruDis,jdbcType=BIT}, #{currentTowerShareNum,jdbcType=INTEGER}, #{currentRoomSupportingShareNum,jdbcType=INTEGER}, 
      #{currentServiceShareNum,jdbcType=INTEGER}, #{currentRoomFeeShareNum,jdbcType=INTEGER}, 
      #{currentElecimportShareNum,jdbcType=INTEGER}, #{addTowerShareNum,jdbcType=INTEGER}, 
      #{addRoomSupportingShareNum,jdbcType=INTEGER}, #{isSpecEnterStation,jdbcType=BIT}, 
      #{startDate,jdbcType=TIMESTAMP}, #{endDate,jdbcType=TIMESTAMP}, #{unitProductNumber,jdbcType=VARCHAR}, 
      #{towerPrice,jdbcType=DECIMAL}, #{roomPrice,jdbcType=DECIMAL}, #{supportingPrice,jdbcType=DECIMAL}, 
      #{towerShareDis,jdbcType=DECIMAL}, #{roomSupportingShareDis,jdbcType=DECIMAL}, 
      #{computeRoomSupportingPrice,jdbcType=DECIMAL}, #{maintenanceFee,jdbcType=DECIMAL}, 
      #{maintenanceFeeDis,jdbcType=DECIMAL}, #{originalMaintenanceFee,jdbcType=DECIMAL}, 
      #{computeMaintenanceFee,jdbcType=DECIMAL}, #{stageFee,jdbcType=DECIMAL}, #{stageFeeDis,jdbcType=DECIMAL}, 
      #{originalStageFee,jdbcType=DECIMAL}, #{electricImportFee,jdbcType=DECIMAL}, #{electricImportFeeDis,jdbcType=DECIMAL}, 
      #{originalElectricImportFee,jdbcType=DECIMAL}, #{computeElectricImportFee,jdbcType=DECIMAL}, 
      #{ifHasPowerCondition,jdbcType=BIT}, #{ifSelectPowerService,jdbcType=BIT}, #{oilGenerateElectricMethodId,jdbcType=VARCHAR}, 
      #{oilGeneratorElectricFee,jdbcType=DECIMAL}, #{originalOilGenerateElectricFee,jdbcType=DECIMAL}, 
      #{computeOilGenerateElectricFee,jdbcType=DECIMAL}, #{otherFee,jdbcType=DECIMAL}, 
      #{otherFeeRemark,jdbcType=VARCHAR}, #{originalOtherFee,jdbcType=DECIMAL}, #{computeOtherFee,jdbcType=DECIMAL}, 
      #{maintenanceLevelId,jdbcType=VARCHAR}, #{hightLevelFee,jdbcType=DECIMAL}, #{electricProtectionMethodId,jdbcType=VARCHAR}, 
      #{electricProtectionFee,jdbcType=DECIMAL}, #{reserveBattery,jdbcType=DECIMAL}, 
      #{roomFeeMethod,jdbcType=VARCHAR}, #{elecImportFeeMethod,jdbcType=VARCHAR}, #{microwaveServiceFee,jdbcType=VARCHAR}, 
      #{wlanServiceFee,jdbcType=VARCHAR}, #{batteryProtectionFee,jdbcType=DECIMAL}, #{totalAmount,jdbcType=DECIMAL}, 
      #{totalActualAmount,jdbcType=DECIMAL}, #{computeTotalAmount,jdbcType=DECIMAL}, 
      #{computeTotalActualAmount,jdbcType=DECIMAL}, #{computeRoomPrice,jdbcType=DECIMAL}, 
      #{computeSupportingPrice,jdbcType=DECIMAL}, #{computeTowerPrice1,jdbcType=DECIMAL}, 
      #{computeTowerPrice2,jdbcType=DECIMAL}, #{computeTowerPrice3,jdbcType=DECIMAL}, 
      #{publishUser,jdbcType=VARCHAR}, #{publishTime,jdbcType=TIMESTAMP}, #{createUserId,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{updateUserId,jdbcType=VARCHAR}, #{updateTime,jdbcType=TIMESTAMP}, 
      #{checkState,jdbcType=INTEGER})
  </insert>
  <!-- 新增拆分表数据 -->
  <insert id="insertSelective" parameterType="com.xunge.model.towerrent.rentmanager.TowerRentInformationHistoryVO" >
    insert into twr_rentinformationhistory
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="rentinformationhistoryId != null" >
        rentinformationhistory_id,
      </if>
      <if test="rentinformationId != null" >
        rentinformation_id,
      </if>
      <if test="regId != null" >
        reg_id,
      </if>
      <if test="resourcesTypeId != null" >
        resources_type_id,
      </if>
      <if test="businessConfirmNumber != null" >
        business_confirm_number,
      </if>
      <if test="scenceType != null" >
        scence_type,
      </if>
      <if test="agreeBillCode != null" >
        agree_bill_code,
      </if>
      <if test="towerStationCode != null" >
        tower_station_code,
      </if>
      <if test="towerStationName != null" >
        tower_station_name,
      </if>
      <if test="operator != null" >
        operator,
      </if>
      <if test="operatorRegId != null" >
        operator_reg_id,
      </if>
      <if test="demandRegId != null" >
        demand_reg_id,
      </if>
      <if test="stationRegId != null" >
        station_reg_id,
      </if>
      <if test="ifTowerLinkOperator != null" >
        if_tower_link_operator,
      </if>
      <if test="detailAddress != null" >
        detail_address,
      </if>
      <if test="longitude != null" >
        longitude,
      </if>
      <if test="latitude != null" >
        latitude,
      </if>
      <if test="productConfigurationId != null" >
        product_configuration_id,
      </if>
      <if test="productTypeId != null" >
        product_type_id,
      </if>
      <if test="roomTypeId != null" >
        room_type_id,
      </if>
      <if test="supportingTypeId != null" >
        supporting_type_id,
      </if>
      <if test="windPressure != null" >
        wind_pressure,
      </if>
      <if test="shareTypeId != null" >
        share_type_id,
      </if>
      <if test="product1UnitNum != null" >
        product1_unit_num,
      </if>
      <if test="product1Height != null" >
        product1_height,
      </if>
      <if test="product1AntennaNum != null" >
        product1_antenna_num,
      </if>
      <if test="product1SystemNum != null" >
        product1_system_num,
      </if>
      <if test="product1IsUpTowerrru != null" >
        product1_is_up_towerRRU,
      </if>
      <if test="product1IfbbuOnRoom != null" >
        product1_ifBBU_on_room,
      </if>
      <if test="product1BbuFee != null" >
        product1_BBU_fee,
      </if>
      <if test="product2UnitNum != null" >
        product2_unit_num,
      </if>
      <if test="product2Height != null" >
        product2_height,
      </if>
      <if test="product2AntennaNum != null" >
        product2_antenna_num,
      </if>
      <if test="product2SystemNum != null" >
        product2_system_num,
      </if>
      <if test="product2IsUpTowerrru != null" >
        product2_is_up_towerRRU,
      </if>
      <if test="product2IfbbuOnRoom != null" >
        product2_ifBBU_on_room,
      </if>
      <if test="product2BbuFee != null" >
        product2_BBU_fee,
      </if>
      <if test="product3UnitNum != null" >
        product3_unit_num,
      </if>
      <if test="product3Height != null" >
        product3_height,
      </if>
      <if test="product3AntennaNum != null" >
        product3_antenna_num,
      </if>
      <if test="product3SystemNum != null" >
        product3_system_num,
      </if>
      <if test="product3IsUpTowerrru != null" >
        product3_is_up_towerRRU,
      </if>
      <if test="product3IfbbuOnRoom != null" >
        product3_ifBBU_on_room,
      </if>
      <if test="product3BbuFee != null" >
        product3_BBU_fee,
      </if>
      <if test="antennaHeightRangeId != null" >
        antenna_height_range_id,
      </if>
      <if test="towerHeight != null" >
        tower_height,
      </if>
      <if test="ifstandardBuildFee != null" >
        ifstandard_build_fee,
      </if>
      <if test="ifrruDis != null" >
        ifRRU_dis,
      </if>
      <if test="currentTowerShareNum != null" >
        current_tower_share_num,
      </if>
      <if test="currentRoomSupportingShareNum != null" >
        current_room_supporting_share_num,
      </if>
      <if test="currentServiceShareNum != null" >
        current_service_share_num,
      </if>
      <if test="currentRoomFeeShareNum != null" >
        current_room_fee_share_num,
      </if>
      <if test="currentElecimportShareNum != null" >
        current_elecimport_share_num,
      </if>
      <if test="addTowerShareNum != null" >
        add_tower_share_num,
      </if>
      <if test="addRoomSupportingShareNum != null" >
        add_room_supporting_share_num,
      </if>
      <if test="isSpecEnterStation != null" >
        is_spec_enter_station,
      </if>
      <if test="startDate != null" >
        start_date,
      </if>
      <if test="endDate != null" >
        end_date,
      </if>
      <if test="unitProductNumber != null" >
        unit_product_number,
      </if>
      <if test="towerPrice != null" >
        tower_price,
      </if>
      <if test="roomPrice != null" >
        room_price,
      </if>
      <if test="supportingPrice != null" >
        supporting_price,
      </if>
      <if test="towerShareDis != null" >
        tower_share_dis,
      </if>
      <if test="roomSupportingShareDis != null" >
        room_supporting_share_dis,
      </if>
      <if test="computeRoomSupportingPrice != null" >
        compute_room_supporting_price,
      </if>
      <if test="maintenanceFee != null" >
        maintenance_fee,
      </if>
      <if test="maintenanceFeeDis != null" >
        maintenance_fee_dis,
      </if>
      <if test="originalMaintenanceFee != null" >
        original_maintenance_fee,
      </if>
      <if test="computeMaintenanceFee != null" >
        compute_maintenance_fee,
      </if>
      <if test="stageFee != null" >
        stage_fee,
      </if>
      <if test="stageFeeDis != null" >
        stage_fee_dis,
      </if>
      <if test="originalStageFee != null" >
        original_stage_fee,
      </if>
      <if test="electricImportFee != null" >
        electric_import_fee,
      </if>
      <if test="electricImportFeeDis != null" >
        electric_import_fee_dis,
      </if>
      <if test="originalElectricImportFee != null" >
        original_electric_import_fee,
      </if>
      <if test="computeElectricImportFee != null" >
        compute_electric_import_fee,
      </if>
      <if test="ifHasPowerCondition != null" >
        if_has_power_condition,
      </if>
      <if test="ifSelectPowerService != null" >
        if_select_power_service,
      </if>
      <if test="oilGenerateElectricMethodId != null" >
        oil_generate_electric_method_id,
      </if>
      <if test="oilGeneratorElectricFee != null" >
        oil_generator_electric_fee,
      </if>
      <if test="originalOilGenerateElectricFee != null" >
        original_oil_generate_electric_fee,
      </if>
      <if test="computeOilGenerateElectricFee != null" >
        compute_oil_generate_electric_fee,
      </if>
      <if test="otherFee != null" >
        other_fee,
      </if>
      <if test="otherFeeRemark != null" >
        other_fee_remark,
      </if>
      <if test="originalOtherFee != null" >
        original_other_fee,
      </if>
      <if test="computeOtherFee != null" >
        compute_other_fee,
      </if>
      <if test="maintenanceLevelId != null" >
        maintenance_level_id,
      </if>
      <if test="hightLevelFee != null" >
        hight_level_fee,
      </if>
      <if test="electricProtectionMethodId != null" >
        electric_protection_method_id,
      </if>
      <if test="electricProtectionFee != null" >
        electric_protection_fee,
      </if>
      <if test="reserveBattery != null" >
        reserve_battery,
      </if>
      <if test="roomFeeMethod != null" >
        room_fee_method,
      </if>
      <if test="elecImportFeeMethod != null" >
        elec_import_fee_method,
      </if>
      <if test="microwaveServiceFee != null" >
        microwave_service_fee,
      </if>
      <if test="wlanServiceFee != null" >
        wlan_service_fee,
      </if>
      <if test="batteryProtectionFee != null" >
        battery_protection_fee,
      </if>
      <if test="totalAmount != null" >
        total_amount,
      </if>
      <if test="totalActualAmount != null" >
        total_actual_amount,
      </if>
      <if test="computeTotalAmount != null" >
        compute_total_amount,
      </if>
      <if test="computeTotalActualAmount != null" >
        compute_total_actual_amount,
      </if>
      <if test="computeRoomPrice != null" >
        compute_room_price,
      </if>
      <if test="computeSupportingPrice != null" >
        compute_supporting_price,
      </if>
      <if test="computeTowerPrice1 != null" >
        compute_tower_price1,
      </if>
      <if test="computeTowerPrice2 != null" >
        compute_tower_price2,
      </if>
      <if test="computeTowerPrice3 != null" >
        compute_tower_price3,
      </if>
      <if test="publishUser != null" >
        publish_user,
      </if>
      <if test="publishTime != null" >
        publish_time,
      </if>
      <if test="createUserId != null" >
        create_user_id,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="updateUserId != null" >
        update_user_id,
      </if>
      <if test="updateTime != null" >
        update_time,
      </if>
      <if test="checkState != null" >
        check_state,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="rentinformationhistoryId != null" >
        #{rentinformationhistoryId,jdbcType=VARCHAR},
      </if>
      <if test="rentinformationId != null" >
        #{rentinformationId,jdbcType=VARCHAR},
      </if>
      <if test="regId != null" >
        #{regId,jdbcType=VARCHAR},
      </if>
      <if test="resourcesTypeId != null" >
        #{resourcesTypeId,jdbcType=VARCHAR},
      </if>
      <if test="businessConfirmNumber != null" >
        #{businessConfirmNumber,jdbcType=VARCHAR},
      </if>
      <if test="scenceType != null" >
        #{scenceType,jdbcType=VARCHAR},
      </if>
      <if test="agreeBillCode != null" >
        #{agreeBillCode,jdbcType=VARCHAR},
      </if>
      <if test="towerStationCode != null" >
        #{towerStationCode,jdbcType=VARCHAR},
      </if>
      <if test="towerStationName != null" >
        #{towerStationName,jdbcType=VARCHAR},
      </if>
      <if test="operator != null" >
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="operatorRegId != null" >
        #{operatorRegId,jdbcType=VARCHAR},
      </if>
      <if test="demandRegId != null" >
        #{demandRegId,jdbcType=VARCHAR},
      </if>
      <if test="stationRegId != null" >
        #{stationRegId,jdbcType=VARCHAR},
      </if>
      <if test="ifTowerLinkOperator != null" >
        #{ifTowerLinkOperator,jdbcType=BIT},
      </if>
      <if test="detailAddress != null" >
        #{detailAddress,jdbcType=VARCHAR},
      </if>
      <if test="longitude != null" >
        #{longitude,jdbcType=DECIMAL},
      </if>
      <if test="latitude != null" >
        #{latitude,jdbcType=DECIMAL},
      </if>
      <if test="productConfigurationId != null" >
        #{productConfigurationId,jdbcType=VARCHAR},
      </if>
      <if test="productTypeId != null" >
        #{productTypeId,jdbcType=VARCHAR},
      </if>
      <if test="roomTypeId != null" >
        #{roomTypeId,jdbcType=VARCHAR},
      </if>
      <if test="supportingTypeId != null" >
        #{supportingTypeId,jdbcType=VARCHAR},
      </if>
      <if test="windPressure != null" >
        #{windPressure,jdbcType=DECIMAL},
      </if>
      <if test="shareTypeId != null" >
        #{shareTypeId,jdbcType=VARCHAR},
      </if>
      <if test="product1UnitNum != null" >
        #{product1UnitNum,jdbcType=VARCHAR},
      </if>
      <if test="product1Height != null" >
        #{product1Height,jdbcType=VARCHAR},
      </if>
      <if test="product1AntennaNum != null" >
        #{product1AntennaNum,jdbcType=VARCHAR},
      </if>
      <if test="product1SystemNum != null" >
        #{product1SystemNum,jdbcType=VARCHAR},
      </if>
      <if test="product1IsUpTowerrru != null" >
        #{product1IsUpTowerrru,jdbcType=BIT},
      </if>
      <if test="product1IfbbuOnRoom != null" >
        #{product1IfbbuOnRoom,jdbcType=BIT},
      </if>
      <if test="product1BbuFee != null" >
        #{product1BbuFee,jdbcType=VARCHAR},
      </if>
      <if test="product2UnitNum != null" >
        #{product2UnitNum,jdbcType=VARCHAR},
      </if>
      <if test="product2Height != null" >
        #{product2Height,jdbcType=VARCHAR},
      </if>
      <if test="product2AntennaNum != null" >
        #{product2AntennaNum,jdbcType=VARCHAR},
      </if>
      <if test="product2SystemNum != null" >
        #{product2SystemNum,jdbcType=VARCHAR},
      </if>
      <if test="product2IsUpTowerrru != null" >
        #{product2IsUpTowerrru,jdbcType=VARCHAR},
      </if>
      <if test="product2IfbbuOnRoom != null" >
        #{product2IfbbuOnRoom,jdbcType=BIT},
      </if>
      <if test="product2BbuFee != null" >
        #{product2BbuFee,jdbcType=BIT},
      </if>
      <if test="product3UnitNum != null" >
        #{product3UnitNum,jdbcType=VARCHAR},
      </if>
      <if test="product3Height != null" >
        #{product3Height,jdbcType=VARCHAR},
      </if>
      <if test="product3AntennaNum != null" >
        #{product3AntennaNum,jdbcType=VARCHAR},
      </if>
      <if test="product3SystemNum != null" >
        #{product3SystemNum,jdbcType=VARCHAR},
      </if>
      <if test="product3IsUpTowerrru != null" >
        #{product3IsUpTowerrru,jdbcType=BIT},
      </if>
      <if test="product3IfbbuOnRoom != null" >
        #{product3IfbbuOnRoom,jdbcType=BIT},
      </if>
      <if test="product3BbuFee != null" >
        #{product3BbuFee,jdbcType=VARCHAR},
      </if>
      <if test="antennaHeightRangeId != null" >
        #{antennaHeightRangeId,jdbcType=VARCHAR},
      </if>
      <if test="towerHeight != null" >
        #{towerHeight,jdbcType=VARCHAR},
      </if>
      <if test="ifstandardBuildFee != null" >
        #{ifstandardBuildFee,jdbcType=BIT},
      </if>
      <if test="ifrruDis != null" >
        #{ifrruDis,jdbcType=BIT},
      </if>
      <if test="currentTowerShareNum != null" >
        #{currentTowerShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentRoomSupportingShareNum != null" >
        #{currentRoomSupportingShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentServiceShareNum != null" >
        #{currentServiceShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentRoomFeeShareNum != null" >
        #{currentRoomFeeShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentElecimportShareNum != null" >
        #{currentElecimportShareNum,jdbcType=INTEGER},
      </if>
      <if test="addTowerShareNum != null" >
        #{addTowerShareNum,jdbcType=INTEGER},
      </if>
      <if test="addRoomSupportingShareNum != null" >
        #{addRoomSupportingShareNum,jdbcType=INTEGER},
      </if>
      <if test="isSpecEnterStation != null" >
        #{isSpecEnterStation,jdbcType=BIT},
      </if>
      <if test="startDate != null" >
        #{startDate,jdbcType=TIMESTAMP},
      </if>
      <if test="endDate != null" >
        #{endDate,jdbcType=TIMESTAMP},
      </if>
      <if test="unitProductNumber != null" >
        #{unitProductNumber,jdbcType=VARCHAR},
      </if>
      <if test="towerPrice != null" >
        #{towerPrice,jdbcType=DECIMAL},
      </if>
      <if test="roomPrice != null" >
        #{roomPrice,jdbcType=DECIMAL},
      </if>
      <if test="supportingPrice != null" >
        #{supportingPrice,jdbcType=DECIMAL},
      </if>
      <if test="towerShareDis != null" >
        #{towerShareDis,jdbcType=DECIMAL},
      </if>
      <if test="roomSupportingShareDis != null" >
        #{roomSupportingShareDis,jdbcType=DECIMAL},
      </if>
      <if test="computeRoomSupportingPrice != null" >
        #{computeRoomSupportingPrice,jdbcType=DECIMAL},
      </if>
      <if test="maintenanceFee != null" >
        #{maintenanceFee,jdbcType=DECIMAL},
      </if>
      <if test="maintenanceFeeDis != null" >
        #{maintenanceFeeDis,jdbcType=DECIMAL},
      </if>
      <if test="originalMaintenanceFee != null" >
        #{originalMaintenanceFee,jdbcType=DECIMAL},
      </if>
      <if test="computeMaintenanceFee != null" >
        #{computeMaintenanceFee,jdbcType=DECIMAL},
      </if>
      <if test="stageFee != null" >
        #{stageFee,jdbcType=DECIMAL},
      </if>
      <if test="stageFeeDis != null" >
        #{stageFeeDis,jdbcType=DECIMAL},
      </if>
      <if test="originalStageFee != null" >
        #{originalStageFee,jdbcType=DECIMAL},
      </if>
      <if test="electricImportFee != null" >
        #{electricImportFee,jdbcType=DECIMAL},
      </if>
      <if test="electricImportFeeDis != null" >
        #{electricImportFeeDis,jdbcType=DECIMAL},
      </if>
      <if test="originalElectricImportFee != null" >
        #{originalElectricImportFee,jdbcType=DECIMAL},
      </if>
      <if test="computeElectricImportFee != null" >
        #{computeElectricImportFee,jdbcType=DECIMAL},
      </if>
      <if test="ifHasPowerCondition != null" >
        #{ifHasPowerCondition,jdbcType=BIT},
      </if>
      <if test="ifSelectPowerService != null" >
        #{ifSelectPowerService,jdbcType=BIT},
      </if>
      <if test="oilGenerateElectricMethodId != null" >
        #{oilGenerateElectricMethodId,jdbcType=VARCHAR},
      </if>
      <if test="oilGeneratorElectricFee != null" >
        #{oilGeneratorElectricFee,jdbcType=DECIMAL},
      </if>
      <if test="originalOilGenerateElectricFee != null" >
        #{originalOilGenerateElectricFee,jdbcType=DECIMAL},
      </if>
      <if test="computeOilGenerateElectricFee != null" >
        #{computeOilGenerateElectricFee,jdbcType=DECIMAL},
      </if>
      <if test="otherFee != null" >
        #{otherFee,jdbcType=DECIMAL},
      </if>
      <if test="otherFeeRemark != null" >
        #{otherFeeRemark,jdbcType=VARCHAR},
      </if>
      <if test="originalOtherFee != null" >
        #{originalOtherFee,jdbcType=DECIMAL},
      </if>
      <if test="computeOtherFee != null" >
        #{computeOtherFee,jdbcType=DECIMAL},
      </if>
      <if test="maintenanceLevelId != null" >
        #{maintenanceLevelId,jdbcType=VARCHAR},
      </if>
      <if test="hightLevelFee != null" >
        #{hightLevelFee,jdbcType=DECIMAL},
      </if>
      <if test="electricProtectionMethodId != null" >
        #{electricProtectionMethodId,jdbcType=VARCHAR},
      </if>
      <if test="electricProtectionFee != null" >
        #{electricProtectionFee,jdbcType=DECIMAL},
      </if>
      <if test="reserveBattery != null" >
        #{reserveBattery,jdbcType=DECIMAL},
      </if>
      <if test="roomFeeMethod != null" >
        #{roomFeeMethod,jdbcType=VARCHAR},
      </if>
      <if test="elecImportFeeMethod != null" >
        #{elecImportFeeMethod,jdbcType=VARCHAR},
      </if>
      <if test="microwaveServiceFee != null" >
        #{microwaveServiceFee,jdbcType=VARCHAR},
      </if>
      <if test="wlanServiceFee != null" >
        #{wlanServiceFee,jdbcType=VARCHAR},
      </if>
      <if test="batteryProtectionFee != null" >
        #{batteryProtectionFee,jdbcType=DECIMAL},
      </if>
      <if test="totalAmount != null" >
        #{totalAmount,jdbcType=DECIMAL},
      </if>
      <if test="totalActualAmount != null" >
        #{totalActualAmount,jdbcType=DECIMAL},
      </if>
      <if test="computeTotalAmount != null" >
        #{computeTotalAmount,jdbcType=DECIMAL},
      </if>
      <if test="computeTotalActualAmount != null" >
        #{computeTotalActualAmount,jdbcType=DECIMAL},
      </if>
      <if test="computeRoomPrice != null" >
        #{computeRoomPrice,jdbcType=DECIMAL},
      </if>
      <if test="computeSupportingPrice != null" >
        #{computeSupportingPrice,jdbcType=DECIMAL},
      </if>
      <if test="computeTowerPrice1 != null" >
        #{computeTowerPrice1,jdbcType=DECIMAL},
      </if>
      <if test="computeTowerPrice2 != null" >
        #{computeTowerPrice2,jdbcType=DECIMAL},
      </if>
      <if test="computeTowerPrice3 != null" >
        #{computeTowerPrice3,jdbcType=DECIMAL},
      </if>
      <if test="publishUser != null" >
        #{publishUser,jdbcType=VARCHAR},
      </if>
      <if test="publishTime != null" >
        #{publishTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUserId != null" >
        #{createUserId,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUserId != null" >
        #{updateUserId,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="checkState != null" >
        #{checkState,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.xunge.model.towerrent.rentmanager.TowerRentInformationHistoryVO" >
    update twr_rentinformationhistory
    <set >
      <if test="rentinformationId != null" >
        rentinformation_id = #{rentinformationId,jdbcType=VARCHAR},
      </if>
      <if test="regId != null" >
        reg_id = #{regId,jdbcType=VARCHAR},
      </if>
      <if test="resourcesTypeId != null" >
        resources_type_id = #{resourcesTypeId,jdbcType=VARCHAR},
      </if>
      <if test="businessConfirmNumber != null" >
        business_confirm_number = #{businessConfirmNumber,jdbcType=VARCHAR},
      </if>
      <if test="scenceType != null" >
        scence_type = #{scenceType,jdbcType=VARCHAR},
      </if>
      <if test="agreeBillCode != null" >
        agree_bill_code = #{agreeBillCode,jdbcType=VARCHAR},
      </if>
      <if test="towerStationCode != null" >
        tower_station_code = #{towerStationCode,jdbcType=VARCHAR},
      </if>
      <if test="towerStationName != null" >
        tower_station_name = #{towerStationName,jdbcType=VARCHAR},
      </if>
      <if test="operator != null" >
        operator = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="operatorRegId != null" >
        operator_reg_id = #{operatorRegId,jdbcType=VARCHAR},
      </if>
      <if test="demandRegId != null" >
        demand_reg_id = #{demandRegId,jdbcType=VARCHAR},
      </if>
      <if test="stationRegId != null" >
        station_reg_id = #{stationRegId,jdbcType=VARCHAR},
      </if>
      <if test="ifTowerLinkOperator != null" >
        if_tower_link_operator = #{ifTowerLinkOperator,jdbcType=BIT},
      </if>
      <if test="detailAddress != null" >
        detail_address = #{detailAddress,jdbcType=VARCHAR},
      </if>
      <if test="longitude != null" >
        longitude = #{longitude,jdbcType=DECIMAL},
      </if>
      <if test="latitude != null" >
        latitude = #{latitude,jdbcType=DECIMAL},
      </if>
      <if test="productConfigurationId != null" >
        product_configuration_id = #{productConfigurationId,jdbcType=VARCHAR},
      </if>
      <if test="productTypeId != null" >
        product_type_id = #{productTypeId,jdbcType=VARCHAR},
      </if>
      <if test="roomTypeId != null" >
        room_type_id = #{roomTypeId,jdbcType=VARCHAR},
      </if>
      <if test="supportingTypeId != null" >
        supporting_type_id = #{supportingTypeId,jdbcType=VARCHAR},
      </if>
      <if test="windPressure != null" >
        wind_pressure = #{windPressure,jdbcType=DECIMAL},
      </if>
      <if test="shareTypeId != null" >
        share_type_id = #{shareTypeId,jdbcType=VARCHAR},
      </if>
      <if test="product1UnitNum != null" >
        product1_unit_num = #{product1UnitNum,jdbcType=VARCHAR},
      </if>
      <if test="product1Height != null" >
        product1_height = #{product1Height,jdbcType=VARCHAR},
      </if>
      <if test="product1AntennaNum != null" >
        product1_antenna_num = #{product1AntennaNum,jdbcType=VARCHAR},
      </if>
      <if test="product1SystemNum != null" >
        product1_system_num = #{product1SystemNum,jdbcType=VARCHAR},
      </if>
      <if test="product1IsUpTowerrru != null" >
        product1_is_up_towerRRU = #{product1IsUpTowerrru,jdbcType=BIT},
      </if>
      <if test="product1IfbbuOnRoom != null" >
        product1_ifBBU_on_room = #{product1IfbbuOnRoom,jdbcType=BIT},
      </if>
      <if test="product1BbuFee != null" >
        product1_BBU_fee = #{product1BbuFee,jdbcType=VARCHAR},
      </if>
      <if test="product2UnitNum != null" >
        product2_unit_num = #{product2UnitNum,jdbcType=VARCHAR},
      </if>
      <if test="product2Height != null" >
        product2_height = #{product2Height,jdbcType=VARCHAR},
      </if>
      <if test="product2AntennaNum != null" >
        product2_antenna_num = #{product2AntennaNum,jdbcType=VARCHAR},
      </if>
      <if test="product2SystemNum != null" >
        product2_system_num = #{product2SystemNum,jdbcType=VARCHAR},
      </if>
      <if test="product2IsUpTowerrru != null" >
        product2_is_up_towerRRU = #{product2IsUpTowerrru,jdbcType=VARCHAR},
      </if>
      <if test="product2IfbbuOnRoom != null" >
        product2_ifBBU_on_room = #{product2IfbbuOnRoom,jdbcType=BIT},
      </if>
      <if test="product2BbuFee != null" >
        product2_BBU_fee = #{product2BbuFee,jdbcType=BIT},
      </if>
      <if test="product3UnitNum != null" >
        product3_unit_num = #{product3UnitNum,jdbcType=VARCHAR},
      </if>
      <if test="product3Height != null" >
        product3_height = #{product3Height,jdbcType=VARCHAR},
      </if>
      <if test="product3AntennaNum != null" >
        product3_antenna_num = #{product3AntennaNum,jdbcType=VARCHAR},
      </if>
      <if test="product3SystemNum != null" >
        product3_system_num = #{product3SystemNum,jdbcType=VARCHAR},
      </if>
      <if test="product3IsUpTowerrru != null" >
        product3_is_up_towerRRU = #{product3IsUpTowerrru,jdbcType=BIT},
      </if>
      <if test="product3IfbbuOnRoom != null" >
        product3_ifBBU_on_room = #{product3IfbbuOnRoom,jdbcType=BIT},
      </if>
      <if test="product3BbuFee != null" >
        product3_BBU_fee = #{product3BbuFee,jdbcType=VARCHAR},
      </if>
      <if test="antennaHeightRangeId != null" >
        antenna_height_range_id = #{antennaHeightRangeId,jdbcType=VARCHAR},
      </if>
      <if test="towerHeight != null" >
        tower_height = #{towerHeight,jdbcType=VARCHAR},
      </if>
      <if test="ifstandardBuildFee != null" >
        ifstandard_build_fee = #{ifstandardBuildFee,jdbcType=BIT},
      </if>
      <if test="ifrruDis != null" >
        ifRRU_dis = #{ifrruDis,jdbcType=BIT},
      </if>
      <if test="currentTowerShareNum != null" >
        current_tower_share_num = #{currentTowerShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentRoomSupportingShareNum != null" >
        current_room_supporting_share_num = #{currentRoomSupportingShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentServiceShareNum != null" >
        current_service_share_num = #{currentServiceShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentRoomFeeShareNum != null" >
        current_room_fee_share_num = #{currentRoomFeeShareNum,jdbcType=INTEGER},
      </if>
      <if test="currentElecimportShareNum != null" >
        current_elecimport_share_num = #{currentElecimportShareNum,jdbcType=INTEGER},
      </if>
      <if test="addTowerShareNum != null" >
        add_tower_share_num = #{addTowerShareNum,jdbcType=INTEGER},
      </if>
      <if test="addRoomSupportingShareNum != null" >
        add_room_supporting_share_num = #{addRoomSupportingShareNum,jdbcType=INTEGER},
      </if>
      <if test="isSpecEnterStation != null" >
        is_spec_enter_station = #{isSpecEnterStation,jdbcType=BIT},
      </if>
      <if test="startDate != null" >
        start_date = #{startDate,jdbcType=TIMESTAMP},
      </if>
      <if test="endDate != null" >
        end_date = #{endDate,jdbcType=TIMESTAMP},
      </if>
      <if test="unitProductNumber != null" >
        unit_product_number = #{unitProductNumber,jdbcType=VARCHAR},
      </if>
      <if test="towerPrice != null" >
        tower_price = #{towerPrice,jdbcType=DECIMAL},
      </if>
      <if test="roomPrice != null" >
        room_price = #{roomPrice,jdbcType=DECIMAL},
      </if>
      <if test="supportingPrice != null" >
        supporting_price = #{supportingPrice,jdbcType=DECIMAL},
      </if>
      <if test="towerShareDis != null" >
        tower_share_dis = #{towerShareDis,jdbcType=DECIMAL},
      </if>
      <if test="roomSupportingShareDis != null" >
        room_supporting_share_dis = #{roomSupportingShareDis,jdbcType=DECIMAL},
      </if>
      <if test="computeRoomSupportingPrice != null" >
        compute_room_supporting_price = #{computeRoomSupportingPrice,jdbcType=DECIMAL},
      </if>
      <if test="maintenanceFee != null" >
        maintenance_fee = #{maintenanceFee,jdbcType=DECIMAL},
      </if>
      <if test="maintenanceFeeDis != null" >
        maintenance_fee_dis = #{maintenanceFeeDis,jdbcType=DECIMAL},
      </if>
      <if test="originalMaintenanceFee != null" >
        original_maintenance_fee = #{originalMaintenanceFee,jdbcType=DECIMAL},
      </if>
      <if test="computeMaintenanceFee != null" >
        compute_maintenance_fee = #{computeMaintenanceFee,jdbcType=DECIMAL},
      </if>
      <if test="stageFee != null" >
        stage_fee = #{stageFee,jdbcType=DECIMAL},
      </if>
      <if test="stageFeeDis != null" >
        stage_fee_dis = #{stageFeeDis,jdbcType=DECIMAL},
      </if>
      <if test="originalStageFee != null" >
        original_stage_fee = #{originalStageFee,jdbcType=DECIMAL},
      </if>
      <if test="electricImportFee != null" >
        electric_import_fee = #{electricImportFee,jdbcType=DECIMAL},
      </if>
      <if test="electricImportFeeDis != null" >
        electric_import_fee_dis = #{electricImportFeeDis,jdbcType=DECIMAL},
      </if>
      <if test="originalElectricImportFee != null" >
        original_electric_import_fee = #{originalElectricImportFee,jdbcType=DECIMAL},
      </if>
      <if test="computeElectricImportFee != null" >
        compute_electric_import_fee = #{computeElectricImportFee,jdbcType=DECIMAL},
      </if>
      <if test="ifHasPowerCondition != null" >
        if_has_power_condition = #{ifHasPowerCondition,jdbcType=BIT},
      </if>
      <if test="ifSelectPowerService != null" >
        if_select_power_service = #{ifSelectPowerService,jdbcType=BIT},
      </if>
      <if test="oilGenerateElectricMethodId != null" >
        oil_generate_electric_method_id = #{oilGenerateElectricMethodId,jdbcType=VARCHAR},
      </if>
      <if test="oilGeneratorElectricFee != null" >
        oil_generator_electric_fee = #{oilGeneratorElectricFee,jdbcType=DECIMAL},
      </if>
      <if test="originalOilGenerateElectricFee != null" >
        original_oil_generate_electric_fee = #{originalOilGenerateElectricFee,jdbcType=DECIMAL},
      </if>
      <if test="computeOilGenerateElectricFee != null" >
        compute_oil_generate_electric_fee = #{computeOilGenerateElectricFee,jdbcType=DECIMAL},
      </if>
      <if test="otherFee != null" >
        other_fee = #{otherFee,jdbcType=DECIMAL},
      </if>
      <if test="otherFeeRemark != null" >
        other_fee_remark = #{otherFeeRemark,jdbcType=VARCHAR},
      </if>
      <if test="originalOtherFee != null" >
        original_other_fee = #{originalOtherFee,jdbcType=DECIMAL},
      </if>
      <if test="computeOtherFee != null" >
        compute_other_fee = #{computeOtherFee,jdbcType=DECIMAL},
      </if>
      <if test="maintenanceLevelId != null" >
        maintenance_level_id = #{maintenanceLevelId,jdbcType=VARCHAR},
      </if>
      <if test="hightLevelFee != null" >
        hight_level_fee = #{hightLevelFee,jdbcType=DECIMAL},
      </if>
      <if test="electricProtectionMethodId != null" >
        electric_protection_method_id = #{electricProtectionMethodId,jdbcType=VARCHAR},
      </if>
      <if test="electricProtectionFee != null" >
        electric_protection_fee = #{electricProtectionFee,jdbcType=DECIMAL},
      </if>
      <if test="reserveBattery != null" >
        reserve_battery = #{reserveBattery,jdbcType=DECIMAL},
      </if>
      <if test="roomFeeMethod != null" >
        room_fee_method = #{roomFeeMethod,jdbcType=VARCHAR},
      </if>
      <if test="elecImportFeeMethod != null" >
        elec_import_fee_method = #{elecImportFeeMethod,jdbcType=VARCHAR},
      </if>
      <if test="microwaveServiceFee != null" >
        microwave_service_fee = #{microwaveServiceFee,jdbcType=VARCHAR},
      </if>
      <if test="wlanServiceFee != null" >
        wlan_service_fee = #{wlanServiceFee,jdbcType=VARCHAR},
      </if>
      <if test="batteryProtectionFee != null" >
        battery_protection_fee = #{batteryProtectionFee,jdbcType=DECIMAL},
      </if>
      <if test="totalAmount != null" >
        total_amount = #{totalAmount,jdbcType=DECIMAL},
      </if>
      <if test="totalActualAmount != null" >
        total_actual_amount = #{totalActualAmount,jdbcType=DECIMAL},
      </if>
      <if test="computeTotalAmount != null" >
        compute_total_amount = #{computeTotalAmount,jdbcType=DECIMAL},
      </if>
      <if test="computeTotalActualAmount != null" >
        compute_total_actual_amount = #{computeTotalActualAmount,jdbcType=DECIMAL},
      </if>
      <if test="computeRoomPrice != null" >
        compute_room_price = #{computeRoomPrice,jdbcType=DECIMAL},
      </if>
      <if test="computeSupportingPrice != null" >
        compute_supporting_price = #{computeSupportingPrice,jdbcType=DECIMAL},
      </if>
      <if test="computeTowerPrice1 != null" >
        compute_tower_price1 = #{computeTowerPrice1,jdbcType=DECIMAL},
      </if>
      <if test="computeTowerPrice2 != null" >
        compute_tower_price2 = #{computeTowerPrice2,jdbcType=DECIMAL},
      </if>
      <if test="computeTowerPrice3 != null" >
        compute_tower_price3 = #{computeTowerPrice3,jdbcType=DECIMAL},
      </if>
      <if test="publishUser != null" >
        publish_user = #{publishUser,jdbcType=VARCHAR},
      </if>
      <if test="publishTime != null" >
        publish_time = #{publishTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUserId != null" >
        create_user_id = #{createUserId,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUserId != null" >
        update_user_id = #{updateUserId,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="checkState != null" >
        check_state = #{checkState,jdbcType=INTEGER},
      </if>
    </set>
    where rentinformationhistory_id = #{rentinformationhistoryId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.xunge.model.towerrent.rentmanager.TowerRentInformationHistoryVO" >
    update twr_rentinformationhistory
    set rentinformation_id = #{rentinformationId,jdbcType=VARCHAR},
      reg_id = #{regId,jdbcType=VARCHAR},
      resources_type_id = #{resourcesTypeId,jdbcType=VARCHAR},
      business_confirm_number = #{businessConfirmNumber,jdbcType=VARCHAR},
      scence_type = #{scenceType,jdbcType=VARCHAR},
      agree_bill_code = #{agreeBillCode,jdbcType=VARCHAR},
      tower_station_code = #{towerStationCode,jdbcType=VARCHAR},
      tower_station_name = #{towerStationName,jdbcType=VARCHAR},
      operator = #{operator,jdbcType=VARCHAR},
      operator_reg_id = #{operatorRegId,jdbcType=VARCHAR},
      demand_reg_id = #{demandRegId,jdbcType=VARCHAR},
      station_reg_id = #{stationRegId,jdbcType=VARCHAR},
      if_tower_link_operator = #{ifTowerLinkOperator,jdbcType=BIT},
      detail_address = #{detailAddress,jdbcType=VARCHAR},
      longitude = #{longitude,jdbcType=DECIMAL},
      latitude = #{latitude,jdbcType=DECIMAL},
      product_configuration_id = #{productConfigurationId,jdbcType=VARCHAR},
      product_type_id = #{productTypeId,jdbcType=VARCHAR},
      room_type_id = #{roomTypeId,jdbcType=VARCHAR},
      supporting_type_id = #{supportingTypeId,jdbcType=VARCHAR},
      wind_pressure = #{windPressure,jdbcType=DECIMAL},
      share_type_id = #{shareTypeId,jdbcType=VARCHAR},
      product1_unit_num = #{product1UnitNum,jdbcType=VARCHAR},
      product1_height = #{product1Height,jdbcType=VARCHAR},
      product1_antenna_num = #{product1AntennaNum,jdbcType=VARCHAR},
      product1_system_num = #{product1SystemNum,jdbcType=VARCHAR},
      product1_is_up_towerRRU = #{product1IsUpTowerrru,jdbcType=BIT},
      product1_ifBBU_on_room = #{product1IfbbuOnRoom,jdbcType=BIT},
      product1_BBU_fee = #{product1BbuFee,jdbcType=VARCHAR},
      product2_unit_num = #{product2UnitNum,jdbcType=VARCHAR},
      product2_height = #{product2Height,jdbcType=VARCHAR},
      product2_antenna_num = #{product2AntennaNum,jdbcType=VARCHAR},
      product2_system_num = #{product2SystemNum,jdbcType=VARCHAR},
      product2_is_up_towerRRU = #{product2IsUpTowerrru,jdbcType=VARCHAR},
      product2_ifBBU_on_room = #{product2IfbbuOnRoom,jdbcType=BIT},
      product2_BBU_fee = #{product2BbuFee,jdbcType=BIT},
      product3_unit_num = #{product3UnitNum,jdbcType=VARCHAR},
      product3_height = #{product3Height,jdbcType=VARCHAR},
      product3_antenna_num = #{product3AntennaNum,jdbcType=VARCHAR},
      product3_system_num = #{product3SystemNum,jdbcType=VARCHAR},
      product3_is_up_towerRRU = #{product3IsUpTowerrru,jdbcType=BIT},
      product3_ifBBU_on_room = #{product3IfbbuOnRoom,jdbcType=BIT},
      product3_BBU_fee = #{product3BbuFee,jdbcType=VARCHAR},
      antenna_height_range_id = #{antennaHeightRangeId,jdbcType=VARCHAR},
      tower_height = #{towerHeight,jdbcType=VARCHAR},
      ifstandard_build_fee = #{ifstandardBuildFee,jdbcType=BIT},
      ifRRU_dis = #{ifrruDis,jdbcType=BIT},
      current_tower_share_num = #{currentTowerShareNum,jdbcType=INTEGER},
      current_room_supporting_share_num = #{currentRoomSupportingShareNum,jdbcType=INTEGER},
      current_service_share_num = #{currentServiceShareNum,jdbcType=INTEGER},
      current_room_fee_share_num = #{currentRoomFeeShareNum,jdbcType=INTEGER},
      current_elecimport_share_num = #{currentElecimportShareNum,jdbcType=INTEGER},
      add_tower_share_num = #{addTowerShareNum,jdbcType=INTEGER},
      add_room_supporting_share_num = #{addRoomSupportingShareNum,jdbcType=INTEGER},
      is_spec_enter_station = #{isSpecEnterStation,jdbcType=BIT},
      start_date = #{startDate,jdbcType=TIMESTAMP},
      end_date = #{endDate,jdbcType=TIMESTAMP},
      unit_product_number = #{unitProductNumber,jdbcType=VARCHAR},
      tower_price = #{towerPrice,jdbcType=DECIMAL},
      room_price = #{roomPrice,jdbcType=DECIMAL},
      supporting_price = #{supportingPrice,jdbcType=DECIMAL},
      tower_share_dis = #{towerShareDis,jdbcType=DECIMAL},
      room_supporting_share_dis = #{roomSupportingShareDis,jdbcType=DECIMAL},
      compute_room_supporting_price = #{computeRoomSupportingPrice,jdbcType=DECIMAL},
      maintenance_fee = #{maintenanceFee,jdbcType=DECIMAL},
      maintenance_fee_dis = #{maintenanceFeeDis,jdbcType=DECIMAL},
      original_maintenance_fee = #{originalMaintenanceFee,jdbcType=DECIMAL},
      compute_maintenance_fee = #{computeMaintenanceFee,jdbcType=DECIMAL},
      stage_fee = #{stageFee,jdbcType=DECIMAL},
      stage_fee_dis = #{stageFeeDis,jdbcType=DECIMAL},
      original_stage_fee = #{originalStageFee,jdbcType=DECIMAL},
      electric_import_fee = #{electricImportFee,jdbcType=DECIMAL},
      electric_import_fee_dis = #{electricImportFeeDis,jdbcType=DECIMAL},
      original_electric_import_fee = #{originalElectricImportFee,jdbcType=DECIMAL},
      compute_electric_import_fee = #{computeElectricImportFee,jdbcType=DECIMAL},
      if_has_power_condition = #{ifHasPowerCondition,jdbcType=BIT},
      if_select_power_service = #{ifSelectPowerService,jdbcType=BIT},
      oil_generate_electric_method_id = #{oilGenerateElectricMethodId,jdbcType=VARCHAR},
      oil_generator_electric_fee = #{oilGeneratorElectricFee,jdbcType=DECIMAL},
      original_oil_generate_electric_fee = #{originalOilGenerateElectricFee,jdbcType=DECIMAL},
      compute_oil_generate_electric_fee = #{computeOilGenerateElectricFee,jdbcType=DECIMAL},
      other_fee = #{otherFee,jdbcType=DECIMAL},
      other_fee_remark = #{otherFeeRemark,jdbcType=VARCHAR},
      original_other_fee = #{originalOtherFee,jdbcType=DECIMAL},
      compute_other_fee = #{computeOtherFee,jdbcType=DECIMAL},
      maintenance_level_id = #{maintenanceLevelId,jdbcType=VARCHAR},
      hight_level_fee = #{hightLevelFee,jdbcType=DECIMAL},
      electric_protection_method_id = #{electricProtectionMethodId,jdbcType=VARCHAR},
      electric_protection_fee = #{electricProtectionFee,jdbcType=DECIMAL},
      reserve_battery = #{reserveBattery,jdbcType=DECIMAL},
      room_fee_method = #{roomFeeMethod,jdbcType=VARCHAR},
      elec_import_fee_method = #{elecImportFeeMethod,jdbcType=VARCHAR},
      microwave_service_fee = #{microwaveServiceFee,jdbcType=VARCHAR},
      wlan_service_fee = #{wlanServiceFee,jdbcType=VARCHAR},
      battery_protection_fee = #{batteryProtectionFee,jdbcType=DECIMAL},
      total_amount = #{totalAmount,jdbcType=DECIMAL},
      total_actual_amount = #{totalActualAmount,jdbcType=DECIMAL},
      compute_total_amount = #{computeTotalAmount,jdbcType=DECIMAL},
      compute_total_actual_amount = #{computeTotalActualAmount,jdbcType=DECIMAL},
      compute_room_price = #{computeRoomPrice,jdbcType=DECIMAL},
      compute_supporting_price = #{computeSupportingPrice,jdbcType=DECIMAL},
      compute_tower_price1 = #{computeTowerPrice1,jdbcType=DECIMAL},
      compute_tower_price2 = #{computeTowerPrice2,jdbcType=DECIMAL},
      compute_tower_price3 = #{computeTowerPrice3,jdbcType=DECIMAL},
      publish_user = #{publishUser,jdbcType=VARCHAR},
      publish_time = #{publishTime,jdbcType=TIMESTAMP},
      create_user_id = #{createUserId,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      update_user_id = #{updateUserId,jdbcType=VARCHAR},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      check_state = #{checkState,jdbcType=INTEGER}
    where rentinformationhistory_id = #{rentinformationhistoryId,jdbcType=VARCHAR}
  </update>
  
  <!-- 根据起租表id查询拆分表历史记录 add by jiacy -->
  <select id="selectByTwrInfoId" resultMap="BaseResultMap" parameterType="java.lang.String" >
	    select 
	    <include refid="Base_Column_List" />
	    from twr_rentinformationhistory
	    where rentinformation_id = #{twrRentInfoId,jdbcType=VARCHAR}
  </select>
  
    <!-- 根据起租表id查询拆分表历史记录 add by jiacy -->
  <select id="exportByTwrInfoHistoryId" resultMap="BaseResultMap" parameterType="Map" >
	    select 
	    <include refid="Base_Column_List" />
	    from twr_rentinformationhistory
	    <if test="historyIds != null and historyIds != ''">
		        where rentinformationhistory_id in
				<foreach collection="historyIds" item="item" index="index" open="("
					separator="," close=")">
					#{item}
				</foreach>
		</if>
  </select>
  
  <!-- 修改拆分表审核状态  xup -->
   <update id="updaterentinformationhistory" parameterType="Map" >
  <!-- 	update twr_rentinformationhistory set check_state=0 
  	where rentinformation_id=#{rentinformationId}
  			and check_state=9 -->
  	update twr_rentinformationhistory set check_state=#{state} where rentinformationhistory_id = #{rentinformationhistoryId,jdbcType=VARCHAR}
  </update> 
 
  <!-- 根据id查询拆分表信息  jcy -->
  <select id="queryById" resultMap="BaseResultMap" parameterType="java.lang.String" >
  	select 
  	<include refid="Base_Column_List" />
	from twr_rentinformationhistory
	where rentinformationhistory_id = #{twrRentHistoryId,jdbcType=VARCHAR}
  </select>
  <!-- 复制移动起租表信息到拆分表 -->
  <insert id="insertRentInformationHistoryFromMobile" parameterType="Map">
  	insert into twr_rentinformationhistory 
			(twr_rentinformationhistory.rentinformationhistory_id,
				twr_rentinformationhistory.rentinformation_id,
				twr_rentinformationhistory.reg_id,
				twr_rentinformationhistory.resources_type_id,
				twr_rentinformationhistory.business_confirm_number,
				twr_rentinformationhistory.scence_type,
				twr_rentinformationhistory.agree_bill_code,
				twr_rentinformationhistory.tower_station_code,
				twr_rentinformationhistory.tower_station_name,
				twr_rentinformationhistory.operator,
				twr_rentinformationhistory.operator_reg_id,
				twr_rentinformationhistory.demand_reg_id,
				twr_rentinformationhistory.station_reg_id,
				twr_rentinformationhistory.if_tower_link_operator,
				twr_rentinformationhistory.detail_address,
				twr_rentinformationhistory.longitude,
				twr_rentinformationhistory.latitude,
				twr_rentinformationhistory.product_configuration_id,
				twr_rentinformationhistory.product_type_id,
				twr_rentinformationhistory.room_type_id,
				twr_rentinformationhistory.supporting_type_id,
				twr_rentinformationhistory.wind_pressure,
				twr_rentinformationhistory.share_type_id,
				twr_rentinformationhistory.product1_unit_num,
				twr_rentinformationhistory.product1_height,
				twr_rentinformationhistory.product1_antenna_num,
				twr_rentinformationhistory.product1_system_num,
				twr_rentinformationhistory.product1_is_up_towerRRU,
				twr_rentinformationhistory.product1_ifBBU_on_room,
				twr_rentinformationhistory.product1_BBU_fee,
				twr_rentinformationhistory.product2_unit_num,
				twr_rentinformationhistory.product2_height,
				twr_rentinformationhistory.product2_antenna_num,
				twr_rentinformationhistory.product2_system_num,
				twr_rentinformationhistory.product2_is_up_towerRRU,
				twr_rentinformationhistory.product2_ifBBU_on_room,
				twr_rentinformationhistory.product2_BBU_fee,
				twr_rentinformationhistory.product3_unit_num,
				twr_rentinformationhistory.product3_height,
				twr_rentinformationhistory.product3_antenna_num,
				twr_rentinformationhistory.product3_system_num,
				twr_rentinformationhistory.product3_is_up_towerRRU,
				twr_rentinformationhistory.product3_ifBBU_on_room,
				twr_rentinformationhistory.product3_BBU_fee,
				twr_rentinformationhistory.antenna_height_range_id,
				twr_rentinformationhistory.tower_height,
				twr_rentinformationhistory.ifstandard_build_fee,
				twr_rentinformationhistory.ifRRU_dis,
				twr_rentinformationhistory.current_tower_share_num,
				twr_rentinformationhistory.current_room_supporting_share_num,
				twr_rentinformationhistory.current_service_share_num,
				twr_rentinformationhistory.current_room_fee_share_num,
				twr_rentinformationhistory.current_elecimport_share_num,
				twr_rentinformationhistory.add_tower_share_num,
				twr_rentinformationhistory.add_room_supporting_share_num,
				twr_rentinformationhistory.is_spec_enter_station,
				twr_rentinformationhistory.start_date,
				twr_rentinformationhistory.end_date,
				twr_rentinformationhistory.unit_product_number,
				twr_rentinformationhistory.tower_price,
				twr_rentinformationhistory.room_price,
				twr_rentinformationhistory.supporting_price,
				twr_rentinformationhistory.tower_share_dis,
				twr_rentinformationhistory.room_supporting_share_dis,
				twr_rentinformationhistory.compute_room_supporting_price,
				twr_rentinformationhistory.maintenance_fee,
				twr_rentinformationhistory.maintenance_fee_dis,
				twr_rentinformationhistory.original_maintenance_fee,
				twr_rentinformationhistory.compute_maintenance_fee,
				twr_rentinformationhistory.stage_fee,
				twr_rentinformationhistory.stage_fee_dis,
				twr_rentinformationhistory.original_stage_fee,
				twr_rentinformationhistory.electric_import_fee,
				twr_rentinformationhistory.electric_import_fee_dis,
				twr_rentinformationhistory.original_electric_import_fee,
				twr_rentinformationhistory.compute_electric_import_fee,
				twr_rentinformationhistory.if_has_power_condition,
				twr_rentinformationhistory.if_select_power_service,
				twr_rentinformationhistory.oil_generate_electric_method_id,
				twr_rentinformationhistory.oil_generator_electric_fee,
				twr_rentinformationhistory.original_oil_generate_electric_fee,
				twr_rentinformationhistory.compute_oil_generate_electric_fee,
				twr_rentinformationhistory.other_fee,
				twr_rentinformationhistory.other_fee_remark,
				twr_rentinformationhistory.original_other_fee,
				twr_rentinformationhistory.compute_other_fee,
				twr_rentinformationhistory.maintenance_level_id,
				twr_rentinformationhistory.hight_level_fee,
				twr_rentinformationhistory.electric_protection_method_id,
				twr_rentinformationhistory.electric_protection_fee,
				twr_rentinformationhistory.reserve_battery,
				twr_rentinformationhistory.room_fee_method,
				twr_rentinformationhistory.elec_import_fee_method,
				twr_rentinformationhistory.microwave_service_fee,
				twr_rentinformationhistory.wlan_service_fee,
				twr_rentinformationhistory.battery_protection_fee,
				twr_rentinformationhistory.total_amount,
				twr_rentinformationhistory.total_actual_amount,
				twr_rentinformationhistory.compute_total_amount,
				twr_rentinformationhistory.compute_total_actual_amount,
				twr_rentinformationhistory.compute_room_price,
				twr_rentinformationhistory.compute_supporting_price,
				twr_rentinformationhistory.compute_tower_price1,
				twr_rentinformationhistory.compute_tower_price2,
				twr_rentinformationhistory.compute_tower_price3,
				twr_rentinformationhistory.publish_user,
				twr_rentinformationhistory.publish_time,
				twr_rentinformationhistory.create_user_id,
				twr_rentinformationhistory.create_time,
				twr_rentinformationhistory.update_user_id,
				twr_rentinformationhistory.update_time,
				twr_rentinformationhistory.check_state)
			SELECT
				#{rentinformationhistoryId},
				twr_rentinformation.rentinformation_id,
				twr_rentinformation.reg_id,
				twr_rentinformation.resources_type_id,
				twr_rentinformation.business_confirm_number,
				twr_rentinformation.scence_type,
				twr_rentinformation.agree_bill_code,
				twr_rentinformation.tower_station_code,
				twr_rentinformation.tower_station_name,
				twr_rentinformation.operator,
				twr_rentinformation.operator_reg_name,
				twr_rentinformation.demand_reg_name,
				twr_rentinformation.station_reg_name,
				twr_rentinformation.if_tower_link_operator,
				twr_rentinformation.detail_address,
				twr_rentinformation.longitude,
				twr_rentinformation.latitude,
				twr_rentinformation.product_configuration_id,
				twr_rentinformation.product_type_id,
				twr_rentinformation.room_type_id,
				twr_rentinformation.supporting_type_id,
				twr_rentinformation.wind_pressure,
				twr_rentinformation.share_type_id,
				twr_rentinformation.product1_unit_num,
				twr_rentinformation.product1_height,
				twr_rentinformation.product1_antenna_num,
				twr_rentinformation.product1_system_num,
				twr_rentinformation.product1_is_up_towerRRU,
				twr_rentinformation.product1_ifBBU_on_room,
				twr_rentinformation.product1_BBU_fee,
				twr_rentinformation.product2_unit_num,
				twr_rentinformation.product2_height,
				twr_rentinformation.product2_antenna_num,
				twr_rentinformation.product2_system_num,
				twr_rentinformation.product2_is_up_towerRRU,
				twr_rentinformation.product2_ifBBU_on_room,
				twr_rentinformation.product2_BBU_fee,
				twr_rentinformation.product3_unit_num,
				twr_rentinformation.product3_height,
				twr_rentinformation.product3_antenna_num,
				twr_rentinformation.product3_system_num,
				twr_rentinformation.product3_is_up_towerRRU,
				twr_rentinformation.product3_ifBBU_on_room,
				twr_rentinformation.product3_BBU_fee,
				twr_rentinformation.antenna_height_range_id,
				twr_rentinformation.tower_height,
				twr_rentinformation.ifstandard_build_fee,
				twr_rentinformation.ifRRU_dis,
				twr_rentinformation.current_tower_share_num,
				twr_rentinformation.current_room_supporting_share_num,
				twr_rentinformation.current_service_share_num,
				twr_rentinformation.current_room_fee_share_num,
				twr_rentinformation.current_elecimport_share_num,
				twr_rentinformation.add_tower_share_num,
				twr_rentinformation.add_room_supporting_share_num,
				twr_rentinformation.is_spec_enter_station,
				twr_rentinformation.start_date,
				twr_rentinformation.end_date,
				twr_rentinformation.unit_product_number,
				twr_rentinformation.tower_price,
				twr_rentinformation.room_price,
				twr_rentinformation.supporting_price,
				twr_rentinformation.tower_share_dis,
				twr_rentinformation.room_supporting_share_dis,
				twr_rentinformation.compute_room_supporting_price,
				twr_rentinformation.maintenance_fee,
				twr_rentinformation.maintenance_fee_dis,
				twr_rentinformation.original_maintenance_fee,
				twr_rentinformation.compute_maintenance_fee,
				twr_rentinformation.stage_fee,
				twr_rentinformation.stage_fee_dis,
				twr_rentinformation.original_stage_fee,
				twr_rentinformation.electric_import_fee,
				twr_rentinformation.electric_import_fee_dis,
				twr_rentinformation.original_electric_import_fee,
				twr_rentinformation.compute_electric_import_fee,
				twr_rentinformation.if_has_power_condition,
				twr_rentinformation.if_select_power_service,
				twr_rentinformation.oil_generate_electric_method_id,
				twr_rentinformation.oil_generator_electric_fee,
				twr_rentinformation.original_oil_generate_electric_fee,
				twr_rentinformation.compute_oil_generate_electric_fee,
				twr_rentinformation.other_fee,
				twr_rentinformation.other_fee_remark,
				twr_rentinformation.original_other_fee,
				twr_rentinformation.compute_other_fee,
				twr_rentinformation.maintenance_level_id,
				twr_rentinformation.hight_level_fee,
				twr_rentinformation.electric_protection_method_id,
				twr_rentinformation.electric_protection_fee,
				twr_rentinformation.reserve_battery,
				twr_rentinformation.room_fee_method,
				twr_rentinformation.elec_import_fee_method,
				twr_rentinformation.microwave_service_fee,
				twr_rentinformation.wlan_service_fee,
				twr_rentinformation.battery_protection_fee,
				twr_rentinformation.total_amount,
				twr_rentinformation.total_actual_amount,
				twr_rentinformation.compute_total_amount,
				twr_rentinformation.compute_total_actual_amount,
				twr_rentinformation.compute_room_price,
				twr_rentinformation.compute_supporting_price,
				twr_rentinformation.compute_tower_price1,
				twr_rentinformation.compute_tower_price2,
				twr_rentinformation.compute_tower_price3,
				twr_rentinformation.publish_user,
				twr_rentinformation.publish_time,
				twr_rentinformation.create_user_id,
				twr_rentinformation.create_time,
				twr_rentinformation.update_user_id,
				twr_rentinformation.update_time,
				twr_rentinformation.check_state
				FROM twr_rentinformation
				WHERE twr_rentinformation.rentinformation_id = #{rentinformationId}
  </insert>
  <!-- 修改需要修改移动起租拆分信息的上一条记录 -->
  <update id="updateEndDateById" parameterType="Map">
  	UPDATE twr_rentinformationhistory
	SET end_date = #{endDate}
	where 
		rentinformationhistory_id = #{rentinformationhistoryId} 
  </update>
  <!-- 查找最后一条拆分数据 -->
  <select id="queryLastHistory" parameterType="Map" resultMap="BaseResultMap">
  	select 
  	<include refid="Base_Column_List"/>
  	from twr_rentinformationhistory
  	where start_date = (select max(start_date)
  	from twr_rentinformationhistory
  	where rentinformation_id = #{rentinformationId})
  </select>
  <!-- 查找所有拆分记录 -->
  <select id="queryAllHistoryById" parameterType="Map" resultMap="BaseResultMap">
  	select 
  	<include refid="Base_Column_List"/>
  	from twr_rentinformationhistory
  	where rentinformation_id = #{rentinformationId}
  </select>
  <!-- 修改同一个生效日期的拆分纪录 -->
  <update id="updateChangeItemById" parameterType="Map">
  	update twr_rentinformationhistory
  	set #{changeItem} = #{changeBehindContent}
  	where rentinformationhistory_id = #{rentinformationhistoryId}
  </update>
  <!-- 删除拆分表新增数据记录 xup-->
  <delete id="deleteinformationhistory" parameterType="Map" >
    delete from twr_rentinformationhistory
    where rentinformation_id=#{rentinformationId}
		and end_date=#{endDate}
		and check_state=#{state}
  </delete>
  
  <!--初始化数据操作  xup-->
  <update id="updateInitialization" parameterType="Map">
  	update twr_rentinformationhistory 
  	set end_date=#{endDate}
  	where rentinformation_id=#{rentinformationId}
  		and check_state=0
  </update>
  
  <!-- 根据起租表id查询拆分表历史记录id  xup -->
  <select id="queryByRentinformationId" resultType="String" parameterType="Map" >
	    select 
	    rentinformationhistory_id
	    from twr_rentinformationhistory
	    where 
	    rentinformation_id=#{rentinformationId}
		and end_date=#{endDate}
		and check_state=#{state}
  </select>
  
   <!-- 根据起租表id查询拆分表历史记录信息  xup -->
  <select id="queryTowerRentInformationHistoryByConditions" resultMap="BaseResultMap" parameterType="Map" >
	    select 
	   <include refid="Base_Column_List" />
	    from twr_rentinformationhistory
	    where 
	    rentinformation_id=#{rentinformationId}
		and end_date=#{endDate}
		and check_state=9
  </select>
  
  <!-- 生成移动账单查询拆分数据   wangz-->
  <select id="queryTowerRentInfoHistory" parameterType="Map" resultMap="BaseResultMap">
  	select rentinformationhistory_id, rentinformation_id,th.reg_id,reg.reg_name, resources_type_id, business_confirm_number, 
    scence_type, agree_bill_code, tower_station_code, tower_station_name, operator, operator_reg_id,reg.preg_name, 
    demand_reg_id, station_reg_id, if_tower_link_operator, detail_address, longitude, 
    latitude, product_configuration_id, product_type_id, room_type_id, supporting_type_id, 
    wind_pressure, share_type_id, product1_unit_num, product1_height, product1_antenna_num, 
    product1_system_num, product1_is_up_towerRRU, product1_ifBBU_on_room, product1_BBU_fee, 
    product2_unit_num, product2_height, product2_antenna_num, product2_system_num, product2_is_up_towerRRU, 
    product2_ifBBU_on_room, product2_BBU_fee, product3_unit_num, product3_height, product3_antenna_num, 
    product3_system_num, product3_is_up_towerRRU, product3_ifBBU_on_room, product3_BBU_fee, 
    antenna_height_range_id, tower_height, ifstandard_build_fee, ifRRU_dis, current_tower_share_num, 
    current_room_supporting_share_num, current_service_share_num, current_room_fee_share_num, 
    current_elecimport_share_num, add_tower_share_num, add_room_supporting_share_num, 
    is_spec_enter_station, start_date, end_date, unit_product_number, tower_price, room_price, 
    supporting_price, tower_share_dis, room_supporting_share_dis, compute_room_supporting_price, 
    maintenance_fee, maintenance_fee_dis, original_maintenance_fee, compute_maintenance_fee, 
    stage_fee, stage_fee_dis, original_stage_fee, electric_import_fee, electric_import_fee_dis, 
    original_electric_import_fee, compute_electric_import_fee, if_has_power_condition, 
    if_select_power_service, oil_generate_electric_method_id, oil_generator_electric_fee, 
    original_oil_generate_electric_fee, compute_oil_generate_electric_fee, other_fee, 
    other_fee_remark, original_other_fee, compute_other_fee, maintenance_level_id, hight_level_fee, 
    electric_protection_method_id, electric_protection_fee, reserve_battery, room_fee_method, 
    elec_import_fee_method, microwave_service_fee, wlan_service_fee, battery_protection_fee, 
    total_amount, total_actual_amount, compute_total_amount, compute_total_actual_amount, 
    compute_room_price, compute_supporting_price, compute_tower_price1, compute_tower_price2, 
    compute_tower_price3, publish_user, publish_time, create_user_id, create_time, update_user_id, 
    update_time, check_state
    from twr_rentinformationhistory as th
    INNER JOIN v_sys_region reg on reg.reg_id = th.reg_id
    <where>
    	<if test="state != null and state != ''">
	    	check_state = #{state}
    	</if>
	    <if test="businessConfirmNumber != null and businessConfirmNumber != ''">
			and th.business_confirm_number = #{businessConfirmNumber}
		</if>
		<if test="towerStationName != null and towerStationName != '' ">
			and ( 
			INSTR(th.tower_station_code,#{towerStationName}) 
			or INSTR(th.tower_station_name,#{towerStationName})
			)
		</if>
		<if test="accountPeroid != null and accountPeroid != ''">
			and(#{monthstartday} BETWEEN start_date AND end_date
   				OR #{monthendday} BETWEEN start_date AND end_date)
		</if>
		<if test="operatorRegId != null and operatorRegId != ''">
			and th.operator_reg_id = #{operatorRegId}
		</if>
		<if test="pregId != null and pregId != ''">
			and th.reg_id = #{pregId}
		</if>
		<!-- 根据权限过滤 -->
		<include refid="com.xunge.dao.system.SysRegionVOMapper.queryRegionByUserIds"></include>
    </where>
  </select>
  
  <!-- 删除服务终止后的拆分信息 -->
  <delete id="deleteHistoryByDate" parameterType="Map">
  	delete from twr_rentinformationhistory
  	where rentinformation_id = #{rentinformationId}
  	and start_date &gt; #{endDate}
  </delete>
</mapper>